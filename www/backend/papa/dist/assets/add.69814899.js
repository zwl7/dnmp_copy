import{e as M,f as P,i as W,g as j,h as H,b as J,j as L}from"./element-plus.fda9d17d.js";import"./vue.ed337178.js";import{G as Q}from"./adv.51da8878.js";import{g as X}from"./listener.f2472c1b.js";import{v as q,_ as z}from"./Cascader.f3e26092.js";import{U as K}from"./UploadImg.f662dd18.js";import{_ as Y,m as Z,M as ee,c as le}from"./index.43a84b26.js";import{c as te}from"./city.aedd9592.js";import ue from"./changeActivityDialog.73d9710c.js";import{k as ae,d as r,Q as oe,o as V,c as ie,l as e,W as o,u as i,U as se,a0 as m,X as ne,a as k,$ as re,H as pe,_ as C}from"./@vue.7f0f1fa4.js";import"./lodash-es.32c7d6de.js";import"./async-validator.6fbb5f2f.js";import"./@vueuse.a0d26dd7.js";import"./dayjs.8e294223.js";import"./axios.c8347845.js";import"./@element-plus.debac796.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./http.ed4ad2d7.js";import"./qs.fa7a39be.js";import"./side-channel.3e40f30b.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.208b5ef0.js";import"./object-inspect.ac588fa5.js";import"./table.b064dc6b.js";import"./Operation.1e66aec0.js";import"./vue-router.52e17900.js";import"./pinia.840704ed.js";import"./vue-demi.4b2e6391.js";import"./js-cookie.711e9524.js";import"./nprogress.d7e4ab0b.js";import"./default-passive-events.74004992.js";import"./restful.b7783b2d.js";const de={style:{width:"100%","text-align":"left"}},me=ae({__name:"add",setup(ce){const c=r(),A=oe(q),{windowBeforeunload:D,removeWindowBfunload:x}=X(),{addAdv:w,adv:U,cities:_}=Q(),t=U;D();const h=async u=>{!u||await u.validate((l,n)=>{l?w(s=>{s.code==200&&(x(),Z("\u6DFB\u52A0\u6210\u529F",ee.success),y(u),le.back())}):console.log("error submit!",n)})},y=u=>{!u||u.resetFields()},S=u=>{t.value.image=u},b=r([]),I=u=>{u&&u.length>0?t.value.c_time_range=JSON.stringify([u[0]/1e3,u[1]/1e3]):t.value.c_time_range=""},d=r(!1),v=r(!1),f=r(!1),F=r(!1),g=r("\u70B9\u51FB\u9009\u62E9\u6D3B\u52A8"),N=u=>{u==3?(d.value=!0,t.value.type="2",v.value=!0,f.value=!0,F.value=!0,t.value.link_title="\u6D3B\u52A8\u8BE6\u60C5"):(v.value=!1,f.value=!1,F.value=!1,t.value.link_title="",t.value.link="")},T=()=>{d.value=!0},$=u=>{console.log(u),g.value=u.name;let l=u.activity_id,n="/subPages/activity/detail/index?".concat("activity_id=",l);t.value.link=n},G=()=>{d.value=!1};return(u,l)=>{const n=M,s=P,O=W,p=j,B=H,E=J,R=L;return V(),ie(se,null,[e(R,{rules:A,ref_key:"ruleFormRef",ref:c,model:i(t)},{default:o(()=>[e(s,{label:"\u6807\u9898",prop:"title"},{default:o(()=>[e(n,{modelValue:i(t).title,"onUpdate:modelValue":l[0]||(l[0]=a=>i(t).title=a),placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),e(s,{label:"\u56FE\u7247",prop:"image",class:"tl"},{default:o(()=>[e(K,{img:i(t).image,multiple:!1,limit:0,onUploadedImg:S,width:380,height:132},null,8,["img"])]),_:1}),e(s,{label:"\u63A8\u8350\u65F6\u95F4",prop:"c_time_range",style:{width:"500px"}},{default:o(()=>[e(O,{type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F",onChange:I,"value-format":"x",modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=a=>b.value=a)},null,8,["modelValue"])]),_:1}),e(s,{label:"\u5185\u5BB9\u5206\u7C7B",prop:"content_type",class:""},{default:o(()=>[e(B,{modelValue:i(t).content_type,"onUpdate:modelValue":l[2]||(l[2]=a=>i(t).content_type=a),onChange:N,class:"m-2",placeholder:"\u5185\u5BB9\u5206\u7C7B",multiple:!1},{default:o(()=>[m(' <el-option label="\u56FE\u6587\u4FE1\u606F" value="1" /> '),m(' <el-option label="\u6D3B\u52A8\u96C6\u5408" value="2" /> '),e(p,{label:"\u6D3B\u52A8\u63A8\u8350",value:"3"}),e(p,{label:"\u4E13\u9898\u63A8\u8350",value:"4"}),e(p,{label:"\u7B2C\u4E09\u65B9\u5916\u94FE",value:"5"}),m(' <el-option label="\u89C6\u9891\u4FE1\u606F" value="6" /> ')]),_:1},8,["modelValue"])]),_:1}),i(t).content_type==3?(V(),ne(s,{key:0,label:"\u9009\u62E9\u6D3B\u52A8"},{default:o(()=>[k("p",{class:"select_title",onClick:T},re(g.value),1)]),_:1})):m("v-if",!0),e(s,{label:"\u63A8\u8350\u7C7B\u578B",prop:"type",class:""},{default:o(()=>[e(B,{modelValue:i(t).type,"onUpdate:modelValue":l[3]||(l[3]=a=>i(t).type=a),class:"m-2",disabled:v.value,placeholder:"\u63A8\u8350\u7C7B\u578B",multiple:!1},{default:o(()=>[e(p,{label:"\u8DF3\u8F6C\u7F51\u9875",value:"1"}),e(p,{label:"\u8DF3\u8F6C\u5C0F\u7A0B\u5E8F",value:"2"})]),_:1},8,["modelValue","disabled"])]),_:1}),e(s,{label:"\u9009\u62E9\u57CE\u5E02",prop:"bank_cities",class:""},{default:o(()=>[e(z,{placeholder:"\u8BF7\u9009\u62E9\u57CE\u5E02",options:i(te),modelValue:i(_),"onUpdate:modelValue":l[4]||(l[4]=a=>pe(_)?_.value=a:null)},null,8,["options","modelValue"])]),_:1}),e(s,{label:"\u7F51\u9875\u540D\u79F0",prop:"link_title"},{default:o(()=>[e(n,{modelValue:i(t).link_title,"onUpdate:modelValue":l[5]||(l[5]=a=>i(t).link_title=a),placeholder:"\u8BF7\u8F93\u5165\u7F51\u9875\u540D\u79F0",disabled:f.value,style:{width:"300px"}},null,8,["modelValue","disabled"])]),_:1}),e(s,{label:"\u94FE\u63A5",prop:"link"},{default:o(()=>[e(n,{modelValue:i(t).link,"onUpdate:modelValue":l[6]||(l[6]=a=>i(t).link=a),placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5",disabled:F.value,style:{width:"300px"}},null,8,["modelValue","disabled"])]),_:1}),e(s,null,{default:o(()=>[k("div",de,[e(E,{type:"primary",onClick:l[7]||(l[7]=a=>y(c.value))},{default:o(()=>[C("\u91CD\u7F6E")]),_:1}),e(E,{type:"success",onClick:l[8]||(l[8]=a=>h(c.value))},{default:o(()=>[C("\u63D0\u4EA4")]),_:1})])]),_:1})]),_:1},8,["rules","model"]),e(ue,{visible:d.value,onClose:G,onGetSelectActivity:$},null,8,["visible"])],64)}}});var Ze=Y(me,[["__scopeId","data-v-275a419b"]]);export{Ze as default};
