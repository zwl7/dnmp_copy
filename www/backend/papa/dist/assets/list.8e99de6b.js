import{f as T,u as Y,j as $,r as j,e as H,i as K,k as R}from"./element-plus.fda9d17d.js";import"./vue.ed337178.js";import{_ as W,c as h}from"./index.43a84b26.js";import{_ as X}from"./Table.9b2293ee.js";import{g as q}from"./order.e7106649.js";import{k as z,K as _,d as G,i as Q,o as c,c as F,l as a,W as l,u as t,H as Z,U as D,a as g,_ as i,$ as p,a3 as v,a4 as y,ad as ee,X as te}from"./@vue.7f0f1fa4.js";import"./lodash-es.32c7d6de.js";import"./async-validator.6fbb5f2f.js";import"./@vueuse.a0d26dd7.js";import"./dayjs.8e294223.js";import"./axios.c8347845.js";import"./@element-plus.debac796.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./vue-router.52e17900.js";import"./pinia.840704ed.js";import"./vue-demi.4b2e6391.js";import"./js-cookie.711e9524.js";import"./qs.fa7a39be.js";import"./side-channel.3e40f30b.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.208b5ef0.js";import"./object-inspect.ac588fa5.js";import"./nprogress.d7e4ab0b.js";import"./default-passive-events.74004992.js";import"./table.b064dc6b.js";import"./http.ed4ad2d7.js";const ae={style:{"max-height":"80vh"}},oe=z({__name:"list",setup(re){const{listOrder:C,delOrder:E,order:k,orderTotal:w,orderList:x,orderPage:V,orderColumns:B,orderFilters:u,shareInfo:s,showModal:m}=q(),b=e=>{V.value=e,C()},M=e=>{k.value.order_id=e,E()},I=e=>{h.push({name:"orderDetail",params:{order_id:e}})},N=e=>{h.push({name:"orderUpdate",params:{order_id:e}})};_("detailCall",I),_("updateCall",N),_("delCall",M);const d=G([]);Q(()=>{if(u.c_time_range){const e=JSON.parse(u.c_time_range),o=new Date(e[0]*1e3),r=new Date(e[0]*1e3);d.value[0]=o.getFullYear()+"-"+(o.getMonth()>=9?o.getMonth()+1:"0"+(o.getMonth()+1))+"-"+o.getDate(),d.value[1]=r.getFullYear()+"-"+(r.getMonth()>=9?r.getMonth()+1:"0"+(r.getMonth()+1))+"-"+r.getDate()}});const O=e=>{e&&e.length>0?u.c_time_range=JSON.stringify([e[0]/1e3,e[1]/1e3]):u.c_time_range=""};return(e,o)=>{const r=T,U=Y,f=$,S=j,P=H,A=K,J=R;return c(),F(D,null,[a(S,{modelValue:t(m),"onUpdate:modelValue":o[0]||(o[0]=n=>Z(m)?m.value=n:null),top:"3vh",title:"\u5206\u6210\u4FE1\u606F",showIndex:""},{default:l(()=>[g("div",ae,[a(f,null,{default:l(()=>[a(r,{label:"\u661F\u7403\u540D\u79F0:"},{default:l(()=>[i(p(t(s).community_name),1)]),_:1}),a(r,{label:"\u6D3B\u52A8\u540D\u79F0:"},{default:l(()=>[i(p(t(s).community_name),1)]),_:1}),a(r,{label:"\u603B\u91D1\u989D:"},{default:l(()=>[i(p(t(s).pay_price),1)]),_:1}),a(U,{"content-position":"left"},{default:l(()=>[i("\u5206\u6210\u4FE1\u606F")]),_:1}),v(g("div",null,[(c(!0),F(D,null,ee(t(s).profit_sharing,(n,L)=>(c(),te(r,{key:L,label:n.role_str+":"},{default:l(()=>[i(" \u5206\u6210\u6BD4\u4F8B:"+p(n.scale)+",\u5206\u6210\u91D1\u989D:"+p(n.price),1)]),_:2},1032,["label"]))),128))],512),[[y,t(s).profit_sharing&&t(s).profit_sharing.length]]),v(g("div",null,"\u6682\u65E0\u5206\u6210\u4FE1\u606F",512),[[y,!t(s).profit_sharing||!t(s).profit_sharing.length]])]),_:1})])]),_:1},8,["modelValue"]),a(X,{columns:t(B),list:t(x),tableId:"order_id"},{search:l(()=>[a(f,{style:{display:"flex","flex-wrap":"wrap"}},{default:l(()=>[a(r,{class:"keywords search-item"},{default:l(()=>[a(P,{placeholder:"\u8F93\u5165\u8BA2\u5355\u5355\u53F7 \u641C\u7D22",class:"keywords search-item",modelValue:t(u).keywords,"onUpdate:modelValue":o[1]||(o[1]=n=>t(u).keywords=n)},null,8,["modelValue"])]),_:1}),a(r,{label:"",prop:"dates_1",class:"search-item"},{default:l(()=>[a(A,{type:"daterange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F",class:"search-item",onChange:O,"value-format":"x",modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=n=>d.value=n)},null,8,["modelValue"])]),_:1})]),_:1})]),pagination:l(()=>[a(J,{background:"",layout:"total, prev, pager, next",total:t(w),onCurrentChange:b},null,8,["total"])]),_:1},8,["columns","list"])],64)}}});var Je=W(oe,[["__scopeId","data-v-96626e4e"]]);export{Je as default};
