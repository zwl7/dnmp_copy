import{g as C,h as y,f as w,o as k,b as x,j as S}from"./element-plus.fda9d17d.js";import"./vue.ed337178.js";import{G as A}from"./setting.5c9a147e.js";import{u as N}from"./vue-router.52e17900.js";import{m as U,M as I,c as R}from"./index.43a84b26.js";import{g as G}from"./listener.f2472c1b.js";import{v as M}from"./validate.fda682b5.js";import{S as T}from"./Select.78c64a3c.js";import{k as W,d as $,Q as j,o as q,X as L,W as l,u,l as e,a as O,_ as d}from"./@vue.7f0f1fa4.js";import"./lodash-es.32c7d6de.js";import"./async-validator.6fbb5f2f.js";import"./@vueuse.a0d26dd7.js";import"./dayjs.8e294223.js";import"./axios.c8347845.js";import"./@element-plus.debac796.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./http.ed4ad2d7.js";import"./qs.fa7a39be.js";import"./side-channel.3e40f30b.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.208b5ef0.js";import"./object-inspect.ac588fa5.js";import"./Operation.f41c2bd6.js";import"./pinia.840704ed.js";import"./vue-demi.4b2e6391.js";import"./js-cookie.711e9524.js";import"./nprogress.d7e4ab0b.js";import"./default-passive-events.74004992.js";import"./table.b064dc6b.js";const P={style:{width:"100%"}},xe=W({__name:"update",setup(Q){const i=$(),_=j(M),{windowBeforeunload:f,removeWindowBfunload:c}=G(),{updateSetting:b,getSetting:g,setting:F}=A(),o=F;f();const v=async r=>{!r||await r.validate((t,m)=>{t?(console.log("submit!"),b(()=>{c(),U("\u4FEE\u6539\u6210\u529F",I.success),R.back()})):console.log("error submit!",m)})},E=r=>{!r||r.resetFields()},V=N();return o.value.setting_id=parseInt(V.query.id),g(()=>{}),(r,t)=>{const m=C,p=y,s=w,B=k,n=x,D=S;return q(),L(D,{rules:_,ref_key:"ruleFormRef",ref:i,model:u(o),class:"demo-ruleForm"},{default:l(()=>[e(s,{label:"C\u7AEF\u9875\u9762\u540D\u79F0",prop:"page_name",class:""},{default:l(()=>[e(p,{modelValue:u(o).page_name,"onUpdate:modelValue":t[0]||(t[0]=a=>u(o).page_name=a),class:"m-2",placeholder:"C\u7AEF\u9875\u9762\u540D\u79F0",multiple:!1},{default:l(()=>[e(m,{label:"\u9996\u9875",value:"index"}),e(m,{label:"\u53D1\u73B0",value:"find"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"\u5173\u8054\u8D44\u6E90\u7C7B\u578B",prop:"related_table",class:""},{default:l(()=>[e(p,{modelValue:u(o).related_table,"onUpdate:modelValue":t[1]||(t[1]=a=>u(o).related_table=a),class:"m-2",placeholder:"\u5173\u8054\u8D44\u6E90",multiple:!1},{default:l(()=>[e(m,{label:"\u5E7F\u544A",value:"adv"}),e(m,{label:"\u8D44\u6E90\u7C7B\u578B",value:"resource_type"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"\u5173\u8054\u8D44\u6E90",prop:"related_id",class:""},{default:l(()=>[e(T,{url:"/activityPlatform/"+u(o).related_table+"/select",params:{status:1},modelValue:u(o).related_id,"onUpdate:modelValue":t[2]||(t[2]=a=>u(o).related_id=a),desc:"\u5173\u8054\u8D44\u6E90",single:!0},null,8,["url","modelValue"])]),_:1}),e(s,{label:"\u6743\u91CD",prop:"weigh"},{default:l(()=>[e(B,{min:0,max:4294967296,step:1,modelValue:u(o).weigh,"onUpdate:modelValue":t[3]||(t[3]=a=>u(o).weigh=a),placeholder:"\u8BF7\u8F93\u5165\u6743\u91CD"},null,8,["modelValue"])]),_:1}),e(s,null,{default:l(()=>[O("div",P,[e(n,{type:"primary",onClick:t[4]||(t[4]=a=>E(i.value))},{default:l(()=>[d("\u91CD\u7F6E")]),_:1}),e(n,{type:"success",onClick:t[5]||(t[5]=a=>v(i.value))},{default:l(()=>[d("\u63D0\u4EA4")]),_:1})])]),_:1})]),_:1},8,["rules","model"])}}});export{xe as default};
