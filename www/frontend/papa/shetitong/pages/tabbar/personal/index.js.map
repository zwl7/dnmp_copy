{"version":3,"file":"index.js","sources":["../../../../../../src/pages/tabbar/personal/index.vue","../../../../../../uniPage:/cGFnZXMvdGFiYmFyL3BlcnNvbmFsL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"h-full personal-page\">\n    <!-- <navBar\n      navColor=\"transparent\"\n      title=\"我的\"\n      titleColor=\"#323233\"\n      backColor=\"#323233\"\n      :showBack=\"false\"\n    ></navBar> -->\n    <UserInfoCard :userInfo=\"userInfo\" />\n    <Levelcard :user-info=\"userInfo\" v-if=\"themeType == 2\" />\n    <view class=\"out-card-box\">\n      <view :class=\"[themeType == 2 ? 'border-box' : '']\">\n        <DataCard :dataConfig=\"config.dataCard\" :themeType=\"themeType\" :list=\"dataReviewList\" />\n        <FuncCard :dataConfig=\"config.funcCard\" />\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport navBar from '@/components/navBar/index.vue'\nimport UserInfoCard from './components/userInfo.vue'\nimport Levelcard from './components/levelCard.vue'\nimport FuncCard from './components/funcCard.vue'\nimport DataCard from './components/dataCard.vue'\nimport { config as wzConfig } from './pageSet/wzConfig'\nimport { config as rcConfig } from './pageSet/rcConfig'\nexport default {\n  components: {\n    UserInfoCard,\n    Levelcard,\n    navBar,\n    FuncCard,\n    DataCard,\n  },\n  data() {\n    return {\n      themeType: this.$store.app.themeType, //  1 瑞昌  2 万载\n      dataReviewList: [\n        {\n          number: 0,\n          title: '志愿服务',\n        },\n        {\n          number: 0,\n          title: '服务时长',\n        },\n        {\n          number: 0,\n          title: '服务人次',\n        },\n      ],\n      config: {\n        dataCard: {},\n        funcCard: {},\n      },\n    }\n  },\n  computed: {\n    isLogin() {\n      return !!this.$store.user.token\n    },\n    userInfo() {\n      return this.$store.user.userInfo\n    },\n  },\n  onLoad() {\n    this.getMyVoluntaryData()\n    this.config = this.themeType == 1 ? rcConfig : wzConfig\n  },\n  methods: {\n    getIcon(type, value) {\n      return this.$dict.getDictLabel('promoteLevelList', value, { labelKey: type })\n    },\n    async getMyVoluntaryData() {\n      let params = {\n        member_id: this.$store.user.userInfo.member_id,\n      }\n      let res = await this.$api.getMyVoluntaryActivityData(params)\n      if (res.code == 200) {\n        this.dataReviewList[0].number = res.data.voluntary_activity_num\n        this.dataReviewList[1].number = res.data.activity_duration\n        this.dataReviewList[2].number = res.data.join_num\n      } else {\n        this.$toast(res.message)\n      }\n    },\n    toEdit() {\n      uni.navigateTo({\n        url: '/pages/personalDetail/index',\n      })\n    },\n    handleClick(item) {\n      if (item.path == 'auth') {\n        if (this.$store.user.userInfo.is_auth_instructor == 1) {\n          uni.navigateTo({\n            url: '/pages-sub/realname/detail',\n          })\n        } else {\n          uni.navigateTo({\n            url: '/pages-sub/realname/index',\n          })\n        }\n        return\n      }\n      if (item.path) {\n        uni.navigateTo({\n          url: item.path,\n        })\n        return\n      }\n    },\n    handleInfo(item) {\n      uni.navigateTo({\n        url: item.path,\n      })\n    },\n    handleLogin() {\n      if (this.isLogin) {\n        return\n      }\n      uni.navigateTo({\n        url: '/pages/login/index',\n      })\n    },\n    async handleLogout() {\n      try {\n        await this.$dialog('确定要退出登录吗?', {\n          showCancelButton: true,\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        })\n      } catch (error) {\n        console.log(error)\n        return\n      }\n\n      await this.$store.user.logout()\n      await this.$toast('退出登录成功', { type: 'success' })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.personal-page {\n  box-sizing: border-box;\n  padding-top: 200rpx;\n  padding-bottom: 200rpx;\n  position: relative;\n  background: $hubei-mine-top-bg;\n  background-size: 100% 508rpx;\n  background-repeat: no-repeat;\n  .user-info {\n    opacity: 1;\n    z-index: 1;\n    .uv-cnetent {\n    }\n\n    .uv-level {\n    }\n\n    .uv-id {\n      color: rgba(165, 173, 186, 1);\n    }\n  }\n}\n.out-card-box {\n  margin: 32rpx;\n\n  .border-box {\n    padding: 32rpx;\n    box-sizing: border-box;\n    border-radius: 24rpx;\n    box-shadow:\n      0px 1px 4px rgba(26, 163, 135, 0.08),\n      0px 0px 18px rgba(0, 133, 82, 0.09);\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages/tabbar/personal/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["rcConfig","wzConfig","uni"],"mappings":"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"}