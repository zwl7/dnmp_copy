{"version":3,"file":"index.js","sources":["../../../../../../../../src/pages/tabbar/home/components/menus/index.vue","../../../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9zcmMvcGFnZXMvdGFiYmFyL2hvbWUvY29tcG9uZW50cy9tZW51cy9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"menu-out-box\">\n    <view v-if=\"isMany\">\n      <view class=\"swiper\">\n        <swiper\n          :interval=\"interval\"\n          :duration=\"duration\"\n          :style=\"'height:' + navHigh + 'px;'\"\n          @change=\"bannerfun\"\n        >\n          <swiper-item v-for=\"(item, indexw) in menuList\" :key=\"indexw\">\n            <view class=\"nav acea-row\" :id=\"'nav' + indexw\">\n              <view\n                class=\"item\"\n                :class=\"number === 1 ? 'four' : number === 2 ? 'five' : ''\"\n                v-for=\"(itemn, indexn) in item.list\"\n                :key=\"indexn\"\n                @click=\"menusTap(itemn)\"\n              >\n                <view class=\"pictrue skeleton-radius on\">\n                  <image :src=\"itemn.img\" mode=\"aspectFill\"></image>\n                </view>\n                <view class=\"menu-txt\" v-if=\"showTitle\">{{ itemn.title }}</view>\n              </view>\n            </view>\n          </swiper-item>\n        </swiper>\n      </view>\n      <view class=\"dot acea-row row-center-wrapper\" v-if=\"docConfig < 2\">\n        <view\n          class=\"dot-item\"\n          :class=\"{ 'line_dot-item': docConfig === 0, '': docConfig === 1 }\"\n          :style=\"active == index ? 'background:' + dotColor : ''\"\n          v-for=\"(item, index) in menuList\"\n          :key=\"index\"\n        ></view>\n      </view>\n    </view>\n    <view class=\"nav oneNav\" v-else>\n      <scroll-view\n        scroll-x=\"true\"\n        style=\"white-space: nowrap; display: flex\"\n        show-scrollbar=\"false\"\n      >\n        <block v-for=\"(item, index) in menus\" :key=\"index\">\n          <view class=\"item\" @click=\"menusTap(item)\">\n            <view class=\"pictrue skeleton-radius on\">\n              <image :src=\"item.img\" mode=\"aspectFill\"></image>\n            </view>\n            <view class=\"menu-txt\" v-if=\"showTitle\">{{ item.value }}</view>\n          </view>\n        </block>\n      </scroll-view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport uniStorage from '@/utils/storages/uniStorage'\nexport default {\n  name: 'menus',\n  props: {\n    dataConfig: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      interval: 3000,\n      duration: 500,\n      navHigh: 0,\n      menuList: [],\n      active: 0,\n    }\n  },\n  computed: {\n    // 基础菜单\n    menus() {\n      return this.dataConfig.menuConfig.list || []\n    },\n    // 是否多行\n    isMany() {\n      return this.dataConfig.tabConfig.value === 2 || true\n    },\n    // 是否显示标题\n    showTitle() {\n      return this.dataConfig.showTitle.value === 1\n    },\n    // 显示个数  0 3个 1 4个 2 五个\n    number() {\n      return this.dataConfig.number.value\n    },\n    // 显示行数  0 2行 1 3行 2 三行\n    rowsNum() {\n      return this.dataConfig.rowsNum.value\n    },\n    // 指示器\n    docConfig() {\n      return this.dataConfig.docConfig.value\n    },\n    themeConfig() {\n      return this.$store.app.themeConfig\n    },\n    dotColor() {\n      return this.themeConfig['hubei-primary']\n    },\n  },\n  created() {},\n  mounted() {\n    if (this.rowsNum === 0) {\n      if (this.number === 0) {\n        this.pageNum(6)\n      } else if (this.number === 1) {\n        this.pageNum(8)\n      } else {\n        this.pageNum(10)\n      }\n    } else if (this.rowsNum === 1) {\n      if (this.number === 0) {\n        this.pageNum(9)\n      } else if (this.number === 1) {\n        this.pageNum(12)\n      } else {\n        this.pageNum(15)\n      }\n    } else {\n      if (this.number === 0) {\n        this.pageNum(12)\n      } else if (this.number === 1) {\n        this.pageNum(16)\n      } else {\n        this.pageNum(20)\n      }\n    }\n    this.$nextTick(() => {\n      if (this.menuList.length && this.isMany) {\n        let that = this\n\n        setTimeout(() => {\n          that.menuHeight()\n        }, 100)\n      }\n    })\n  },\n  methods: {\n    bannerfun(e) {\n      this.active = e.detail.current\n    },\n    menuHeight() {\n      let that = this\n      const query = uni.createSelectorQuery().in(this)\n      query\n        .select('#nav0')\n        .boundingClientRect((data) => {\n          console.log(data.height)\n          that.navHigh = data.height\n        })\n        .exec()\n    },\n    pageNum(num) {\n      let count = Math.ceil(this.menus.length / num)\n      let goodArray = new Array()\n      for (let i = 0; i < count; i++) {\n        let list = this.menus.slice(i * num, i * num + num)\n        if (list.length)\n          goodArray.push({\n            list: list,\n          })\n      }\n      this.$set(this, 'menuList', goodArray)\n    },\n    menusTap(item) {\n      if (item.value === '/pages-sub/realname/index') {\n        this.handleAuth()\n        return\n      }\n      this.$jumpToPath(item.value)\n    },\n    async handleAuth() {\n      if (!uniStorage.get('is_login')) {\n        try {\n          await this.$dialog('您还未登录,去登录?', {\n            showCancelButton: true,\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n          })\n        } catch (error) {\n          console.log(error)\n          return\n        }\n        uni.navigateTo({\n          url: '/pages/login/index',\n        })\n        return\n      }\n      if (this.$store.user.userInfo.is_auth_instructor == 1) {\n        uni.navigateTo({\n          url: '/pages-sub/realname/detail',\n        })\n      } else {\n        uni.navigateTo({\n          url: '/pages-sub/realname/index',\n        })\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.menu-out-box {\n  position: relative;\n  z-index: 10;\n  margin: -80rpx 32rpx 0;\n  box-sizing: border-box;\n  background: #ffffff;\n  border-radius: 24rpx;\n  box-shadow:\n    0px 1px 4px rgba(26, 163, 135, 0.08),\n    0px 0px 18px rgba(0, 133, 82, 0.09);\n}\n.dot {\n  width: 100%;\n  padding-bottom: 20rpx;\n\n  .instruct {\n    width: 50rpx;\n    height: 36rpx;\n    line-height: 36rpx;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: #fff;\n    border-radius: 16rpx;\n    font-size: 24rpx;\n    text-align: center;\n  }\n\n  .dot-item {\n    width: 10rpx;\n    height: 10rpx;\n    background: rgba(0, 0, 0, 0.4);\n    border-radius: 50%;\n    margin: 0 4px;\n\n    &.line_dot-item {\n      width: 20rpx;\n      height: 5rpx;\n      border-radius: 3rpx;\n    }\n  }\n}\n\n.nav {\n  &.oneNav {\n    padding-bottom: 25rpx;\n  }\n\n  .item {\n    margin-top: 30rpx;\n    width: 160rpx;\n    text-align: center;\n    font-size: 24rpx;\n    display: inline-block;\n    color: $hubei-text-color-primary;\n\n    .pictrue {\n      width: 92rpx;\n      height: 92rpx;\n      margin: 0 auto;\n\n      image {\n        width: 100%;\n        height: 100%;\n        border-radius: 50%;\n      }\n\n      &.on {\n        image {\n          border-radius: 0;\n        }\n      }\n    }\n\n    .menu-txt {\n      margin-top: 15rpx;\n    }\n  }\n}\n\n.swiper {\n  z-index: 20;\n  position: relative;\n  overflow: hidden;\n  padding-bottom: 30rpx;\n  .nav {\n    .item {\n      width: 33.3333%;\n\n      &.four {\n        width: 25%;\n      }\n\n      &.five {\n        width: 20%;\n      }\n    }\n  }\n\n  swiper,\n  .swiper-item {\n    width: 100%;\n    display: block;\n  }\n}\n</style>\n","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages/tabbar/home/components/menus/index.vue'\nwx.createComponent(Component)"],"names":["uni","uniStorage"],"mappings":"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"}