{"version":3,"file":"instructorDropDown.js","sources":["../../../../../../src/pages/instructor/components/instructorDropDown.vue","../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9zcmMvcGFnZXMvaW5zdHJ1Y3Rvci9jb21wb25lbnRzL2luc3RydWN0b3JEcm9wRG93bi52dWU"],"sourcesContent":["<template>\n  <div style=\"background-color: #fff\">\n    <dropDown\n      sign=\"trainDropDown\"\n      ref=\"dropDown\"\n      :options=\"options\"\n      @change=\"changeDropDown\"\n      @open=\"openDrop\"\n    >\n      <view v-show=\"selectType == 'company_area_id'\">\n        <dropDownCitySelect @confirm=\"citySelectConfirm\" @reset=\"citySelectReset\" />\n      </view>\n      <view v-show=\"selectType == 'tag_id'\">\n        <dropDownProjectSelect @confirm=\"projectSelectConfirm\" @reset=\"projectSelectReset\" />\n      </view>\n    </dropDown>\n  </div>\n</template>\n\n<script>\nimport dropDown from '@/components/dropDown/index.vue'\nimport dropDownCitySelect from '@/components/dropDown/dropDownCitySelect.vue'\nimport dropDownProjectSelect from '@/components/dropDown/dropDownProjectSelect.vue'\n\nexport default {\n  components: {\n    dropDown,\n    dropDownCitySelect,\n    dropDownProjectSelect,\n  },\n  props: {\n    pageType: {\n      type: String,\n      default: 'level',\n    },\n  },\n  data() {\n    return {\n      searchFormValue: {},\n      selectType: '',\n      options: {\n        company_area_id: {\n          label: '全部区域',\n          value: 999999,\n          child: [],\n          useSlot: true,\n        },\n        tag_id: {\n          label: '全部项目',\n          value: 999999,\n          child: [],\n          useSlot: true,\n        },\n        level: {\n          label: '全部等级',\n          value: 999999,\n          activeIndex: 0,\n          child: [\n            {\n              label: '全部等级',\n              value: 999999,\n            },\n            {\n              label: '国家级',\n              value: 0,\n            },\n            {\n              label: '一级',\n              value: 1,\n            },\n            {\n              label: '二级',\n              value: 2,\n            },\n            {\n              label: '三级',\n              value: 3,\n            },\n            {\n              label: '其它',\n              value: 4,\n            },\n          ],\n        },\n      },\n    }\n  },\n  computed: {\n    themeType() {\n      return this.$store.app.themeType\n    },\n  },\n  watch: {\n    pageType: {\n      handler(val) {\n        if (val == 'star') {\n          this.options['star_level'] = {\n            label: '全部星级',\n            value: 999999,\n            activeIndex: 0,\n            child: [\n              {\n                label: '全部等级',\n                value: 999999,\n              },\n              {\n                label: '一星',\n                value: 1,\n              },\n              {\n                label: '二星',\n                value: 2,\n              },\n              {\n                label: '三星',\n                value: 3,\n              },\n              {\n                label: '四星',\n                value: 4,\n              },\n              {\n                label: '五星',\n                value: 5,\n              },\n            ],\n          }\n        }\n      },\n      immediate: true,\n    },\n  },\n  onLoad(options) {},\n  created() {\n    if (this.themeType == 2) {\n      try {\n        this.options.level.child[5].label = '青少年社会体育指导员'\n      } catch (error) {}\n    }\n  },\n  methods: {\n    init() {\n      this.$refs['dropDown'].init()\n    },\n    openDrop(e) {\n      this.selectType = e.name\n      this.$emit('open', e)\n    },\n    close() {\n      this.$refs['dropDown'].close()\n    },\n    changeDropDown(res) {\n      let obj = {}\n      res.map((e) => {\n        obj[e.name] = e.value\n      })\n      this.searchFormValue = {\n        ...this.searchFormValue,\n        ...obj,\n      }\n      this.handleSearch()\n    },\n    //  城市选择确认\n    citySelectConfirm(e) {\n      let item = e.data[e.data.length - 1]\n      let values = e.values\n      this.options['company_area_id'].label = item ? item.name : '全部区域'\n      this.searchFormValue['company_area_id'] = values.length ? values[values.length - 1] : ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    // 城市选择重置\n    citySelectReset() {\n      this.options['company_area_id'].label = '全部区域'\n      this.searchFormValue['company_area_id'] = ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    // 项目选择确认\n    projectSelectConfirm(e) {\n      let item = e.data[e.data.length - 1]\n      let values = e.values\n      this.options['tag_id'].label = item ? item.name : '全部项目'\n      this.searchFormValue['tag_id'] = values.length ? values[values.length - 1] : ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    // 项目选择重置\n    projectSelectReset() {\n      this.options['tag_id'].label = '全部项目'\n      this.searchFormValue['tag_id'] = ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    handleSearch() {\n      let params = JSON.parse(JSON.stringify(this.searchFormValue))\n      for (const key in params) {\n        const item = params[key]\n        if (item === '' || item === 999999) {\n          delete params[key]\n        }\n      }\n      this.$emit('search', params)\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages/instructor/components/instructorDropDown.vue'\nwx.createComponent(Component)"],"names":[],"mappings":"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"}