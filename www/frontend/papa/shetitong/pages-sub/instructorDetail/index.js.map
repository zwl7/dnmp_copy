{"version":3,"file":"index.js","sources":["../../../../../src/pages-sub/instructorDetail/index.vue","../../../../../uniPage:/cGFnZXMtc3ViL2luc3RydWN0b3JEZXRhaWwvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"page-main-container\" :style=\"backgroundImg\">\n    <view class=\"pt-150rpx\">\n      <instructorDetailHeader :info=\"instructorInfo\" :pageType=\"pageType\" />\n    </view>\n    <view class=\"pt-32rpx\">\n      <abstractInfoCard :list=\"staticData\" />\n    </view>\n    <view class=\"pt-32rpx\">\n      <staticInfoCard :des=\"instructorInfo.des\" />\n    </view>\n  </view>\n</template>\n<script>\nimport shareMixins from '@/mixins/shareMixins'\nimport staticInfoCard from './components/staticInfoCard.vue'\nimport abstractInfoCard from './components/abstractInfoCard.vue'\nimport instructorDetailHeader from './components/instructorDetailHeader.vue'\nexport default {\n  mixins: [shareMixins],\n  components: {\n    staticInfoCard,\n    abstractInfoCard,\n    instructorDetailHeader,\n  },\n  data() {\n    return {\n      instructor_id: '',\n      instructorInfo: {\n        des: '',\n      },\n      pageType: 'level',\n      staticData: [\n        {\n          title: '志愿服务',\n          num: '0',\n          key: 'voluntary_num',\n          unit: '次',\n          show: true,\n        },\n        {\n          title: '服务时长',\n          num: '0',\n          key: 'voluntary_activity_duration',\n          unit: '小时',\n          show: true,\n        },\n        {\n          title: '服务人次',\n          num: '0',\n          key: 'voluntary_service_people_num',\n          unit: '人次',\n          show: true,\n        },\n        {\n          title: '年度排名',\n          num: '0',\n          key: 'rank_num',\n          unit: '',\n          show: true,\n        },\n      ],\n    }\n  },\n  computed: {\n    backgroundImg() {\n      return {\n        'background-image': `url('${this.$store.app.currentThemeIconByType['INSTRUCT_BAG_IMG']}')`,\n      }\n    },\n  },\n  onLoad(options) {\n    this.pageType = this.$store.app.themeType == 1 ? 'level' : 'star'\n    if (this.pageType == 'star') {\n      this.staticData.map((e) => {\n        if (e.key === 'rank_num') {\n          e.show = false\n        }\n      })\n    }\n    this.instructor_id = options.instructor_id\n    this.getDetail()\n  },\n\n  methods: {\n    async getDetail() {\n      let res = await this.$api.getWxInstructorDetail({\n        post_instructor_id: this.instructor_id,\n      })\n      if (res.code !== 200) {\n        this.$toast(res.message)\n        return\n      }\n      let list = JSON.parse(JSON.stringify(this.staticData))\n      list.map((item) => {\n        if (item.key === 'rank_num' && res.data[item.key] > 10 && res.data[item.key] < 1) {\n          item.show = false\n        }\n        item.num = res.data[item.key]\n      })\n      this.staticData = list\n      console.log(this.staticData)\n      this.instructorInfo = res.data\n    },\n  },\n  watch: {},\n  onShareAppMessage() {},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page-main-container {\n  width: 100%;\n  min-height: 100vh;\n  padding: 0 32rpx;\n  box-sizing: border-box;\n  background-image: url('https://cdn-static.papa.com.cn/social/instruct_bg.jpg');\n  background-repeat: no-repeat;\n  background-size: 100%;\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/instructorDetail/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["shareMixins"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAeA,MAAA,iBAAA,MAAA;AACA,MAAA,mBAAA,MAAA;AACA,MAAA,yBAAA,MAAA;AACA,MAAA,YAAA;AAAA,EACA,QAAA,CAAAA,mBAAAA,WAAA;AAAA;IAEA;AAAA,IACA;AAAA;;EAGA,OAAA;AACA,WAAA;AAAA,MACA,eAAA;AAAA,MACA,gBAAA;AAAA,QACA,KAAA;AAAA;MAEA,UAAA;AAAA;QAEA;AAAA;UAEA,KAAA;AAAA,UACA,KAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA;QAEA;AAAA;UAEA,KAAA;AAAA,UACA,KAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA;QAEA;AAAA;UAEA,KAAA;AAAA,UACA,KAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA;QAEA;AAAA;UAEA,KAAA;AAAA,UACA,KAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA;;IAGA;AAAA;EAEA,UAAA;AAAA,IACA,gBAAA;AACA,aAAA;AAAA,QACA,oBAAA,QAAA,KAAA,OAAA,IAAA,uBAAA,kBAAA,CAAA;AAAA,MACA;AAAA;;EAGA,OAAA,SAAA;;;;;;QAMA;AAAA;IAEA;AACA,SAAA,gBAAA,QAAA;AACA,SAAA,UAAA;AAAA;EAGA,SAAA;AAAA,IACA,YAAA;AAAA;AACA,YAAA,MAAA,MAAA,KAAA,KAAA,sBAAA;AAAA,UACA,oBAAA,KAAA;AAAA;AAEA,YAAA,IAAA,SAAA,KAAA;;;QAGA;;AAEA,aAAA,IAAA,CAAA,SAAA;AACA,cAAA,KAAA,QAAA,cAAA,IAAA,KAAA,KAAA,GAAA,IAAA,MAAA,IAAA,KAAA,KAAA,GAAA,IAAA,GAAA;AACA,iBAAA,OAAA;AAAA,UACA;;;AAGA,aAAA,aAAA;;;;;;EAKA,OAAA,CAAA;AAAA,EACA,oBAAA;AAAA,EAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AC1GA,GAAG,WAAW,eAAe;"}