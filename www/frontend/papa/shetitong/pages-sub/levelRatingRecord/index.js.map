{"version":3,"file":"index.js","sources":["../../../../../src/pages-sub/levelRatingRecord/index.vue","../../../../../uniPage:/cGFnZXMtc3ViL2xldmVsUmF0aW5nUmVjb3JkL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <z-paging\n    ref=\"pagingRef\"\n    v-model=\"dataList\"\n    @query=\"queryList\"\n    empty-view-text=\"暂无内容\"\n    empty-view-img=\"/static/images/empty.png\"\n    :empty-view-img-style=\"{ width: '160px', height: '160px' }\"\n  >\n    <view class=\"container\">\n      <time-line-card v-for=\"(item, index) in dataList\" :key=\"index\" :title=\"item.date\">\n        <rating-card :data=\"item\" />\n      </time-line-card>\n    </view>\n  </z-paging>\n</template>\n\n<script>\nimport TimeLineCard from '@/components/TimeLineCard/index.vue'\nimport RatingCard from './components/RatingCard.vue'\nimport { getWxInstructorPromoteList } from '@/api/home/index'\n\nexport default {\n  name: 'StarRatingRecord',\n  components: {\n    TimeLineCard,\n    RatingCard,\n  },\n  data() {\n    return {\n      dataList: [\n        // {\n        //   date: '2024/11/8',\n        //   afterLevel: '国家级',\n        //   originalLevel: '二级',\n        //   currentProject: '乒乓球',\n        //   originalProject: '羽毛球',\n        //   trainingName: '广场舞一级社体指导员培训',\n        //   department: '万载县社体指导员协会',\n        // },\n      ],\n      dateList: [],\n    }\n  },\n  onShow() {},\n  methods: {\n    async queryList(pageNo, pageSize) {\n      console.log('[ pageNo ] >', pageNo)\n      console.log('[ pageSize ] >', pageSize)\n      let params = {\n        page: pageNo,\n        size: pageSize,\n        is_self: 1,\n      }\n      let res = await getWxInstructorPromoteList(params)\n      if (res.code !== 200) {\n        this.$toast(res.message)\n        this.$refs.pagingRef?.complete([])\n        return\n      }\n      if (res.code == 200) {\n        let dealData = res.data.list.map((item) => {\n          let date = item.promote_time\n            ? this.$dayjs(item.promote_time * 1000).format('YYYY/MM/DD')\n            : ''\n          let isPush = false\n          if (this.dateList.indexOf(date) === -1) {\n            this.dateList.push(date)\n            isPush = true\n          }\n          let formatObj = {\n            date: isPush ? date : '',\n            afterLevel: item.promote_level,\n            originalLevel: item.old_level,\n            currentProject: item.now_tag_ids_arr.map((e) => e.tag_id_str).join(','),\n            originalProject: item.old_tag_ids_arr.map((e) => e.tag_id_str).join(','),\n            trainingName: item.promote_name,\n            department: item.now_level_organ_unit_name,\n          }\n          return {\n            ...formatObj,\n            ...item,\n          }\n        })\n        this.dataList = dealData\n        this.$refs.pagingRef?.complete(dealData)\n      }\n    },\n    change1() {},\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding: 0 32rpx;\n  box-sizing: border-box;\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/levelRatingRecord/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getWxInstructorPromoteList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,MAAA,eAAA,MAAA;AACA,mBAAA,MAAA;AAGA,MAAA,YAAA;AAAA,EACA,MAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,UAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAUA;AAAA,MACA,UAAA,CAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,EAAA;AAAA,EACA,SAAA;AAAA,IACA,UAAA,QAAA,UAAA;AAAA;;AACA,gBAAA,IAAA,gBAAA,MAAA;AACA,gBAAA,IAAA,kBAAA,QAAA;AACA,YAAA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA,UACA,SAAA;AAAA,QACA;AACA,YAAA,MAAA,MAAAA,eAAAA,2BAAA,MAAA;AACA,YAAA,IAAA,SAAA,KAAA;AACA,eAAA,OAAA,IAAA,OAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA,CAAA;AACA;AAAA,QACA;AACA,YAAA,IAAA,QAAA,KAAA;AACA,cAAA,WAAA,IAAA,KAAA,KAAA,IAAA,CAAA,SAAA;AACA,gBAAA,OAAA,KAAA,eACA,KAAA,OAAA,KAAA,eAAA,GAAA,EAAA,OAAA,YAAA,IACA;AACA,gBAAA,SAAA;AACA,gBAAA,KAAA,SAAA,QAAA,IAAA,MAAA,IAAA;AACA,mBAAA,SAAA,KAAA,IAAA;AACA,uBAAA;AAAA,YACA;AACA,gBAAA,YAAA;AAAA,cACA,MAAA,SAAA,OAAA;AAAA,cACA,YAAA,KAAA;AAAA,cACA,eAAA,KAAA;AAAA,cACA,gBAAA,KAAA,gBAAA,IAAA,CAAA,MAAA,EAAA,UAAA,EAAA,KAAA,GAAA;AAAA,cACA,iBAAA,KAAA,gBAAA,IAAA,CAAA,MAAA,EAAA,UAAA,EAAA,KAAA,GAAA;AAAA,cACA,cAAA,KAAA;AAAA,cACA,YAAA,KAAA;AAAA,YACA;AACA,mBAAA,kCACA,YACA;AAAA,UAEA,CAAA;AACA,eAAA,WAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA;AAAA,QACA;AAAA,MACA;AAAA;AAAA,IACA,UAAA;AAAA,IAAA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFA,GAAG,WAAW,eAAe;"}