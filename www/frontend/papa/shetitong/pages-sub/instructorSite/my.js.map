{"version":3,"file":"my.js","sources":["../../../../../src/pages-sub/instructorSite/my.vue","../../../../../uniPage:/cGFnZXMtc3ViL2luc3RydWN0b3JTaXRlL215LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"activity-container\">\n    <z-paging\n      ref=\"pagingRef\"\n      auto-height\n      v-model=\"recordData\"\n      @query=\"queryList\"\n      empty-view-text=\"暂无内容\"\n      empty-view-img=\"https://cdn-static.papa.com.cn/yuncheng/empty/暂无内容.png\"\n      :empty-view-img-style=\"{ width: '160px', height: '160px' }\"\n    >\n      <template #top>\n        <view class=\"top-box\">\n          <uv-tabs\n            :list=\"list1\"\n            :scrollable=\"false\"\n            @click=\"handleStatus\"\n            :lineColor=\"activitedColor\"\n          ></uv-tabs>\n        </view>\n      </template>\n\n      <view v-for=\"(item, index) in recordData\" :key=\"index\" class=\"item-box\">\n        <instructorSiteItem :info=\"item\" :show-type=\"showType\" @refresh=\"queryList\" />\n      </view>\n\n      <view class=\"join-site-button\" v-if=\"pickTab === 0\">\n        <bottomButton @customClick=\"joinSite\" type=\"primary\" class=\"apply-btn flx-center\">\n          加入站点\n        </bottomButton>\n      </view>\n    </z-paging>\n  </view>\n</template>\n\n<script>\nimport uniStorage from '@/utils/storages/uniStorage'\nimport instructorSiteItem from '@/components/InstructorSiteItem/index.vue'\nimport { getInstructorSiteList } from '@/api/instructorSite/index'\nimport bottomButton from '@/components/bottomButton.vue'\nexport default {\n  components: {\n    instructorSiteItem,\n    bottomButton,\n  },\n  data() {\n    return {\n      recordData: [],\n      list1: [\n        {\n          value: 0,\n          name: '我加入的',\n        },\n        {\n          value: 1,\n          name: '我收藏的',\n        },\n      ],\n      pickTab: 0,\n    }\n  },\n  computed: {\n    showType() {\n      return this.pickTab == 0 ? 'check' : 'normal'\n    },\n    activitedColor() {\n      return this.$store.app.themeConfig['hubei-primary']\n    },\n  },\n  onUnload() {\n    uniStorage.remove('updated')\n  },\n  onShow() {\n    let refresh = uniStorage.get('updated')\n    if (refresh) {\n      this.queryList(1, 10)\n    }\n  },\n  methods: {\n    getColorStyle(type, status) {\n      return this.$dict.getDictLabel('statusColor', status, { labelKey: type })\n    },\n    handleStatus(item) {\n      this.pickTab = item.value\n      this.recordData = []\n      this.$refs.pagingRef?.complete(this.recordData)\n      this.queryList(1, 10)\n    },\n    async queryList(pageNo = 1, pageSize = 10) {\n      uni.showLoading({\n        title: '加载中',\n        mask: true,\n      })\n      let params = {\n        page: pageNo,\n        size: pageSize,\n        list_type: this.pickTab == 0 ? '2' : '3',\n      }\n      let status = this.pickTab\n      if (status != 0 && status) {\n        params.status = status\n      }\n      let res = await getInstructorSiteList(params)\n      if (res.code == 200) {\n        let data = res.data.list\n\n        this.recordData = data\n        this.$refs.pagingRef?.complete(this.recordData)\n      } else {\n        this.$toast(res.message)\n      }\n      uni.hideLoading()\n    },\n    joinSite() {\n      uni.navigateTo({\n        url: '/pages-sub/instructorSite/select',\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.activity-container {\n  .top-box {\n    background: #fff;\n  }\n  .item-box {\n    padding: 24rpx;\n    box-sizing: border-box;\n    margin-bottom: 24rpx;\n  }\n  .join-site-button {\n    position: fixed;\n    width: 100%;\n    bottom: 40rpx;\n    padding: 0 32rpx;\n    box-sizing: border-box;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/instructorSite/my.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniStorage","uni","getInstructorSiteList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAqCA,2BAAA,MAAA;AAEA,qBAAA,MAAA;AACA,MAAA,YAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,YAAA,CAAA;AAAA,MACA,OAAA;AAAA,QACA;AAAA,UACA,OAAA;AAAA,UACA,MAAA;AAAA,QACA;AAAA,QACA;AAAA,UACA,OAAA;AAAA,UACA,MAAA;AAAA,QACA;AAAA,MACA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AAAA,IACA,WAAA;AACA,aAAA,KAAA,WAAA,IAAA,UAAA;AAAA,IACA;AAAA,IACA,iBAAA;AACA,aAAA,KAAA,OAAA,IAAA,YAAA,eAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,WAAA;AACAA,8BAAA,WAAA,OAAA,SAAA;AAAA,EACA;AAAA,EACA,SAAA;AACA,QAAA,UAAAA,qCAAA,IAAA,SAAA;AACA,QAAA,SAAA;AACA,WAAA,UAAA,GAAA,EAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,cAAA,MAAA,QAAA;AACA,aAAA,KAAA,MAAA,aAAA,eAAA,QAAA,EAAA,UAAA,KAAA,CAAA;AAAA,IACA;AAAA,IACA,aAAA,MAAA;;AACA,WAAA,UAAA,KAAA;AACA,WAAA,aAAA,CAAA;AACA,iBAAA,MAAA,cAAA,mBAAA,SAAA,KAAA;AACA,WAAA,UAAA,GAAA,EAAA;AAAA,IACA;AAAA,IACA,UAAA,SAAA,GAAA,WAAA,IAAA;AAAA;;AACAC,sBAAAA,MAAA,YAAA;AAAA,UACA,OAAA;AAAA,UACA,MAAA;AAAA,QACA,CAAA;AACA,YAAA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA,UACA,WAAA,KAAA,WAAA,IAAA,MAAA;AAAA,QACA;AACA,YAAA,SAAA,KAAA;AACA,YAAA,UAAA,KAAA,QAAA;AACA,iBAAA,SAAA;AAAA,QACA;AACA,YAAA,MAAA,MAAAC,yBAAAA,sBAAA,MAAA;AACA,YAAA,IAAA,QAAA,KAAA;AACA,cAAA,OAAA,IAAA,KAAA;AAEA,eAAA,aAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA,KAAA;AAAA,eACA;AACA,eAAA,OAAA,IAAA,OAAA;AAAA,QACA;AACAD,sBAAAA,MAAA,YAAA;AAAA,MACA;AAAA;AAAA,IACA,WAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtHA,GAAG,WAAW,eAAe;"}