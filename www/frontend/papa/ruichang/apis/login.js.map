{"version":3,"file":"login.js","sources":["../../../../src/apis/login.js"],"sourcesContent":["import { request } from '@/utils/http'\n\nimport config from '@/core/config'\n\n// 获取微信code\nfunction getWxCode() {\n  return new Promise((resolve, reject) => {\n    uni.login({\n      provider: 'weixin',\n      success(res) {\n        resolve(res)\n      },\n      fail() {\n        reject('faily get wxcode')\n      },\n    })\n  })\n}\n\n// 登录\nexport const login = async () => {\n  const { code } = await getWxCode()\n  return request({\n    url: '/infoPlatform/wxMember/miniLogin',\n    data: {\n      code,\n      company_id: config.company_id,\n      is_login: 1,\n    },\n  })\n}\n\n// 临时登录 获取token\nexport const temporaryLogin = async () => {\n  return request({\n    url: '/infoPlatform/wxMember/lsLogin',\n    data: {\n      company_id: config.company_id,\n      is_login: 1,\n    },\n  })\n}\n\n// 保密隐私协议\nexport const getInstruction = (params) => {\n  return request({\n    url: '/cfg/instruction/getByCode',\n    data: params,\n  })\n}\n\n// 保密隐私协议\nexport const getInstructionByCode = (params) => {\n  return request({\n    url: '/cfg/instruction/getByCode',\n    data: params,\n  })\n}\n\nexport const miniAuthLogin = (params) => {\n  return request({\n    url: '/infoPlatform/wxMember/miniAuthLogin',\n    data: params,\n  })\n}\nexport const handleAuthenticate = (params) => {\n  return request({\n    url: '/infoPlatform/wxMember/authenticate',\n    data: params,\n  })\n}\n\nexport const getWxMemberDateAuth = (params) => {\n  return request({\n    url: '/infoPlatform/wxMember/dateAuth',\n    data: params,\n  })\n}\n\n//登录\nexport const getWxMemberPhoneLogin = (params) => {\n  return request({\n    url: '/infoPlatform/wxMember/phoneLogin',\n    data: params,\n  })\n}\n"],"names":["request"],"mappings":";;;AAiEY,MAAC,qBAAqB,CAAC,WAAW;AAC5C,SAAOA,mBAAQ;AAAA,IACb,KAAK;AAAA,IACL,MAAM;AAAA,EACP,CAAA;AACH;;"}