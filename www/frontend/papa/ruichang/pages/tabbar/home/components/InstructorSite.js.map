{"version":3,"file":"InstructorSite.js","sources":["../../../../../../../src/pages/tabbar/home/components/InstructorSite.vue","../../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9zcmMvcGFnZXMvdGFiYmFyL2hvbWUvY29tcG9uZW50cy9JbnN0cnVjdG9yU2l0ZS52dWU"],"sourcesContent":["<template>\n  <view class=\"main-container\">\n    <CardType\n      :bg=\"'https://cdn-static.papa.com.cn/social/home-bg3.png'\"\n      :titleInfo=\"{ ...titleInfo, num: count }\"\n      @clickMore=\"handleClickMore\"\n    >\n      <template #list>\n        <div class=\"list-container\">\n          <div class=\"item\" v-for=\"item in list\" :key=\"item.id\" @click=\"handleClickItem(item)\">\n            <div class=\"left\">\n              <div class=\"item-img\">\n                <image class=\"img\" :src=\"item.showImage\" alt=\"\" mode=\"aspectFill\" />\n              </div>\n              <div class=\"medal\">\n                <rankIcon :rank=\"item.rank\"></rankIcon>\n              </div>\n            </div>\n            <div class=\"info\">\n              <div class=\"item-title\">{{ item.name }}</div>\n              <div class=\"desc\">\n                服务\n                <span class=\"num\">{{ item.voluntary_num }}&nbsp;</span>\n                次\n                <span class=\"num\">{{ item.activity_duration }}&nbsp;</span>\n                h\n              </div>\n            </div>\n          </div>\n          <view v-if=\"list.length == 0\" class=\"empty\">\n            <empty :marginTop=\"0\"></empty>\n          </view>\n        </div>\n      </template>\n    </CardType>\n  </view>\n</template>\n\n<script>\nimport CardType from './CardType.vue'\nimport { getInstructorSiteList } from '@/apis/instructorSite/index'\nimport rankIcon from '@/components/LevelIcon/rank.vue'\nexport default {\n  components: {\n    CardType,\n    rankIcon,\n  },\n  data() {\n    return {\n      titleInfo: {\n        title: '社体指导员站点',\n        num: 0,\n        unit: '个',\n        color: '#3576DF',\n      },\n      list: [],\n      count: 0,\n    }\n  },\n  created() {\n    this.getSiteList()\n  },\n  onLoad(options) {},\n  methods: {\n    handleClickMore() {\n      uni.navigateTo({\n        url: '/pages-sub/instructorSite/index',\n      })\n    },\n    handleClickItem(item) {\n      uni.navigateTo({\n        url: `/pages-sub/instructorSite/detail?instructor_site_id=${item.instructor_site_id}`,\n      })\n    },\n    async getSiteList() {\n      let res = await getInstructorSiteList({\n        page: 1,\n        size: 5,\n        status: 2,\n        sort_type: 'service_time_desc',\n      })\n      if (res.code == 200) {\n        res.data.list.forEach((item) => {\n          item.showImage =\n            item.images_array && item.images_array.length > 0\n              ? item.images_array[0]\n              : 'https://cdn-static.papa.com.cn/social/themeStatic/SkyBlue/site_default_image.png'\n        })\n        this.list = res.data.list\n        this.count = res.data.count\n      } else {\n        this.$toast(res.message)\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.flex {\n  display: flex;\n  align-items: center;\n}\n.main-container {\n  margin: 32rpx 24rpx;\n  padding-bottom: 24rpx;\n  height: 320rpx;\n}\n.list-container {\n  padding-bottom: 24rpx;\n  display: flex;\n  overflow-x: scroll;\n}\n.item {\n  margin-right: 16rpx;\n  padding: 16rpx;\n  width: 460rpx;\n  height: 188rpx;\n  border-radius: 12rpx;\n  box-sizing: border-box;\n  background: #fff;\n  display: flex;\n  flex-shrink: 0;\n}\n.left {\n  position: relative;\n}\n.item-img {\n  margin-right: 16rpx;\n  width: 156rpx;\n  height: 156rpx;\n  border-radius: 8rpx;\n  overflow: hidden;\n  .img {\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: cover;\n  }\n}\n.medal {\n  position: absolute;\n  top: -2rpx;\n  left: 8rpx;\n}\n.info {\n  padding: 16rpx 0 20rpx;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.item-title {\n  color: #303133;\n  font-size: 28rpx;\n  font-weight: 500;\n}\n.desc {\n  font-size: 24rpx;\n  color: #a8abb2;\n}\n.num {\n  color: #3576df;\n}\n.empty {\n  height: 188rpx;\n}\n</style>\n","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages/tabbar/home/components/InstructorSite.vue'\nwx.createComponent(Component)"],"names":["uni","getInstructorSiteList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,MAAO,WAAU,MAAW;AAE5B,iBAAiB,MAAW;AAC5B,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV;AAAA,IACA;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,WAAW;AAAA,QACT,OAAO;AAAA,QACP,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,MACR;AAAA,MACD,MAAM,CAAE;AAAA,MACR,OAAO;AAAA,IACT;AAAA,EACD;AAAA,EACD,UAAU;AACR,SAAK,YAAW;AAAA,EACjB;AAAA,EACD,OAAO,SAAS;AAAA,EAAE;AAAA,EAClB,SAAS;AAAA,IACP,kBAAkB;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACN,CAAA;AAAA,IACF;AAAA,IACD,gBAAgB,MAAM;AACpBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,uDAAuD,KAAK,kBAAkB;AAAA,MACpF,CAAA;AAAA,IACF;AAAA,IACK,cAAc;AAAA;AAClB,YAAI,MAAM,MAAMC,gDAAsB;AAAA,UACpC,MAAM;AAAA,UACN,MAAM;AAAA,UACN,QAAQ;AAAA,UACR,WAAW;AAAA,QACZ,CAAA;AACD,YAAI,IAAI,QAAQ,KAAK;AACnB,cAAI,KAAK,KAAK,QAAQ,CAAC,SAAS;AAC9B,iBAAK,YACH,KAAK,gBAAgB,KAAK,aAAa,SAAS,IAC5C,KAAK,aAAa,CAAC,IACnB;AAAA,UACP,CAAA;AACD,eAAK,OAAO,IAAI,KAAK;AACrB,eAAK,QAAQ,IAAI,KAAK;AAAA,eACjB;AACL,eAAK,OAAO,IAAI,OAAO;AAAA,QACzB;AAAA,MACD;AAAA;AAAA,EACF;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9FA,GAAG,gBAAgB,SAAS;"}