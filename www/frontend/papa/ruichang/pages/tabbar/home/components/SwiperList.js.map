{"version":3,"file":"SwiperList.js","sources":["../../../../../../../src/pages/tabbar/home/components/SwiperList.vue","../../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9zcmMvcGFnZXMvdGFiYmFyL2hvbWUvY29tcG9uZW50cy9Td2lwZXJMaXN0LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"parent\">\n    <swiper\n      @change=\"monitorCurrent\"\n      v-if=\"list.length != 1\"\n      class=\"swiper\"\n      circular\n      indicator-active-color=\"#ebedf0\"\n      :current=\"currentswiper\"\n      :indicator-dots=\"indicatorDots\"\n      :autoplay=\"autoplay\"\n      :interval=\"interval\"\n      :duration=\"duration\"\n    >\n      <swiper-item v-for=\"(item, index) in list\" :key=\"index\" @click=\"clickSwiper(item)\">\n        <view class=\"swiper-item\">\n          <image :src=\"item.images_url\" class=\"image\" mode=\"aspectFill\"></image>\n          <view class=\"text\">{{ item.name }}</view>\n        </view>\n      </swiper-item>\n    </swiper>\n    <view class=\"swiper\" v-if=\"list.length == 1\">\n      <view class=\"swiper-item\" v-for=\"item in list\" :key=\"item\" @click=\"clickSwiper(item)\">\n        <image :src=\"item.images_url\" class=\"image\" mode=\"aspectFill\"></image>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { getWxRecommend } from '@/apis/home/index'\nexport default {\n  name: 'swiperList',\n  computed: {\n    indicatorDots() {\n      return false\n    },\n    swiperName() {\n      return this.list[this.currentswiper] ? this.list[this.currentswiper].name : ''\n    },\n  },\n  watch: {\n    list: {\n      handler: function (val) {\n        if (val && val.length > 0) {\n          console.log('-------------', 'swiper')\n          this.currentswiper = 0\n        }\n      },\n      immediate: true,\n    },\n  },\n  data() {\n    return {\n      autoplay: true,\n      interval: 3500,\n      duration: 3500,\n      // autoplay: false,\n      // interval: 2000,\n      // duration: 500,\n      currentswiper: 0,\n      name: '',\n      list: [],\n    }\n  },\n  mounted() {\n    this.getWxRecommendList()\n  },\n  methods: {\n    clickSwiper(item) {\n      const { topic_id, type_id, url } = item\n      switch (type_id) {\n        case 1:\n          uni.navigateTo({\n            url: `/pages-sub/notice/detail?notice_id=${topic_id}`,\n          })\n          break\n\n        case 7:\n          if (url) {\n            window.location.href = url\n          }\n          break\n        default:\n          break\n      }\n    },\n    async getWxRecommendList() {\n      let res = await getWxRecommend({})\n      if (res.code == 200) {\n        console.log({ swiper: res })\n\n        this.list = res.data\n        // this.list = [...res.data, ...res.data]\n      } else {\n        console.error(res.message)\n      }\n    },\n    monitorCurrent(e) {\n      if (e.target.source == 'autoplay' || e.target.source == 'touch') {\n        this.currentswiper = e.detail.current\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.parent {\n  margin: 0 32rpx;\n  box-sizing: border-box;\n  height: 320rpx;\n  overflow: hidden;\n  border-radius: 28rpx;\n  position: relative;\n}\n\n.swiper {\n  overflow: hidden;\n  background-color: #edefef;\n  width: 100%;\n  height: 320rpx;\n}\n\n.swiper-item {\n  height: 320rpx;\n  width: 100%;\n  position: relative;\n  .text {\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    background: rgba($color: #000000, $alpha: 0.2);\n    color: #fff;\n    padding: 10rpx 20rpx;\n    font-size: 28rpx;\n    // 不换行 超出省略号\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n\n.image {\n  display: block;\n  width: 100%;\n  height: 100%;\n  font-size: 36rpx;\n  color: white;\n  line-height: 528rpx;\n}\n\n.bottom_info {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 120rpx;\n\n  display: flex;\n  justify-content: center;\n  box-sizing: border-box;\n  // background: linear-gradient(transparent, rgba(255, 255, 255, 1));\n\n  .left_title {\n    flex: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    color: #fff;\n    font-style: 36rpx;\n  }\n\n  .right_dot_box {\n    width: 100%;\n    // flex: 1;\n    display: flex;\n    // align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    transform: translateY(12rpx);\n\n    .dot {\n      width: 24rpx;\n      height: 6rpx;\n      //   border-radius: 12rpx;\n      background-color: #fff;\n      margin-right: 8rpx;\n    }\n\n    .active {\n      width: 40rpx;\n      background-color: $hubei-primary;\n    }\n  }\n}\n\n.round-box {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n  height: 32rpx;\n  width: 100%;\n  border-radius: 32rpx 32rpx 0 0;\n}\n</style>\n","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages/tabbar/home/components/SwiperList.vue'\nwx.createComponent(Component)"],"names":["uni","getWxRecommend"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA+BA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,UAAU;AAAA,IACR,gBAAgB;AACd,aAAO;AAAA,IACR;AAAA,IACD,aAAa;AACX,aAAO,KAAK,KAAK,KAAK,aAAa,IAAI,KAAK,KAAK,KAAK,aAAa,EAAE,OAAO;AAAA,IAC7E;AAAA,EACF;AAAA,EACD,OAAO;AAAA,IACL,MAAM;AAAA,MACJ,SAAS,SAAU,KAAK;AACtB,YAAI,OAAO,IAAI,SAAS,GAAG;AACzB,kBAAQ,IAAI,iBAAiB,QAAQ;AACrC,eAAK,gBAAgB;AAAA,QACvB;AAAA,MACD;AAAA,MACD,WAAW;AAAA,IACZ;AAAA,EACF;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA;AAAA;AAAA;AAAA,MAIV,eAAe;AAAA,MACf,MAAM;AAAA,MACN,MAAM,CAAE;AAAA,IACV;AAAA,EACD;AAAA,EACD,UAAU;AACR,SAAK,mBAAkB;AAAA,EACxB;AAAA,EACD,SAAS;AAAA,IACP,YAAY,MAAM;AAChB,YAAM,EAAE,UAAU,SAAS,QAAQ;AACnC,cAAQ,SAAO;AAAA,QACb,KAAK;AACHA,wBAAAA,MAAI,WAAW;AAAA,YACb,KAAK,sCAAsC,QAAQ;AAAA,UACpD,CAAA;AACD;AAAA,QAEF,KAAK;AACH,cAAI,KAAK;AACP,mBAAO,SAAS,OAAO;AAAA,UACzB;AACA;AAAA,MAGJ;AAAA,IACD;AAAA,IACK,qBAAqB;AAAA;AACzB,YAAI,MAAM,MAAMC,gBAAAA,eAAe,CAAE,CAAA;AACjC,YAAI,IAAI,QAAQ,KAAK;AACnB,kBAAQ,IAAI,EAAE,QAAQ,IAAK,CAAA;AAE3B,eAAK,OAAO,IAAI;AAAA,eAEX;AACL,kBAAQ,MAAM,IAAI,OAAO;AAAA,QAC3B;AAAA,MACD;AAAA;AAAA,IACD,eAAe,GAAG;AAChB,UAAI,EAAE,OAAO,UAAU,cAAc,EAAE,OAAO,UAAU,SAAS;AAC/D,aAAK,gBAAgB,EAAE,OAAO;AAAA,MAChC;AAAA,IACD;AAAA,EACF;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvGA,GAAG,gBAAgB,SAAS;"}