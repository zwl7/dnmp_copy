{"version":3,"file":"SportsOrg.js","sources":["../../../../../../../src/pages/tabbar/home/components/SportsOrg.vue","../../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9zcmMvcGFnZXMvdGFiYmFyL2hvbWUvY29tcG9uZW50cy9TcG9ydHNPcmcudnVl"],"sourcesContent":["<template>\n  <view class=\"main-container\">\n    <CardType\n      :bg=\"'https://cdn-static.papa.com.cn/social/home-bg1.png'\"\n      :titleInfo=\"{ ...titleInfo, num: count }\"\n      @clickMore=\"handleClickMore\"\n    >\n      <template #list>\n        <div class=\"list-container\">\n          <div\n            class=\"item\"\n            v-for=\"item in list\"\n            :key=\"item.stadium_id\"\n            @click=\"handleClickItem(item)\"\n          >\n            <div class=\"top\">\n              <div class=\"item-img\">\n                <image class=\"img\" :src=\"item.showImage\" alt=\"\" mode=\"aspectFill\" />\n              </div>\n              <div class=\"medal\">\n                <rankIcon :rank=\"item.rank\" v-if=\"item.rank > 0 && item.rank < 11\" />\n              </div>\n            </div>\n            <div class=\"info\">\n              <div class=\"item-title\">{{ item.name }}</div>\n              <div class=\"desc\">\n                服务\n                <span class=\"num\">&nbsp;{{ item.service_num }}&nbsp;</span>\n                次\n                <span class=\"num\">&nbsp;{{ item.activity_duration }}&nbsp;</span>\n                h\n              </div>\n            </div>\n          </div>\n        </div>\n        <view v-if=\"list.length == 0\" class=\"empty\">\n          <empty :marginTop=\"0\" :height=\"100\"></empty>\n        </view>\n      </template>\n    </CardType>\n  </view>\n</template>\n\n<script>\nimport CardType from './CardType.vue'\nimport { getSportsOrgList } from '@/apis/home/index'\nimport rankIcon from '@/components/LevelIcon/rank.vue'\nexport default {\n  components: {\n    CardType,\n    rankIcon,\n  },\n  data() {\n    return {\n      titleInfo: {\n        title: '体育组织',\n        num: 0,\n        unit: '个',\n        color: '#E44D4D',\n      },\n      list: [],\n      count: 0,\n    }\n  },\n  computed: {},\n  created() {\n    this.getOrgList()\n  },\n  onLoad(options) {},\n  methods: {\n    handleClickMore() {\n      uni.navigateTo({\n        url: '/pagesSub/platform/sportsOrg/index',\n      })\n    },\n    handleClickItem(item) {\n      uni.navigateTo({\n        url: `/pagesSub/platform/sportsOrg/detail?site_id=${item.site_id}`,\n      })\n    },\n    async getOrgList() {\n      let res = await getSportsOrgList({ page: 1, size: 5, type_id: 8 })\n      if (res.code == 200) {\n        res.data.list.forEach((item) => {\n          item.showImage =\n            item.images_url && item.images_url.length > 0\n              ? item.images_url[0]\n              : 'https://cdn-static.papa.com.cn/social/index-hdfc.png'\n        })\n        this.list = res.data.list\n        this.count = res.data.count\n      } else {\n        this.$toast(res.message)\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.flex {\n  display: flex;\n  align-items: center;\n}\n.main-container {\n  margin: 32rpx 24rpx 0;\n}\n.list-container {\n  padding-left: 16rpx;\n  padding-bottom: 20rpx;\n  display: flex;\n  overflow: scroll;\n}\n.item {\n  margin-right: 16rpx;\n}\n.top {\n  position: relative;\n}\n.item-img {\n  margin-right: 16rpx;\n  width: 258rpx;\n  height: 160rpx;\n  border-radius: 12rpx;\n  overflow: hidden;\n  .img {\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: cover;\n  }\n}\n.medal {\n  position: absolute;\n  width: 50rpx;\n  height: 64rpx;\n  top: -2rpx;\n  left: 8rpx;\n  .img {\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: cover;\n  }\n}\n.info {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 16rpx 0 16rpx;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.item-title {\n  width: 258rpx;\n  color: #303133;\n  font-size: 28rpx;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.desc {\n  font-size: 24rpx;\n  color: #a8abb2;\n}\n.num {\n  color: #e44d4d;\n}\n.empty {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages/tabbar/home/components/SportsOrg.vue'\nwx.createComponent(Component)"],"names":["uni","getSportsOrgList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,MAAO,WAAU,MAAW;AAE5B,iBAAiB,MAAW;AAC5B,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV;AAAA,IACA;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,WAAW;AAAA,QACT,OAAO;AAAA,QACP,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,MACR;AAAA,MACD,MAAM,CAAE;AAAA,MACR,OAAO;AAAA,IACT;AAAA,EACD;AAAA,EACD,UAAU,CAAE;AAAA,EACZ,UAAU;AACR,SAAK,WAAU;AAAA,EAChB;AAAA,EACD,OAAO,SAAS;AAAA,EAAE;AAAA,EAClB,SAAS;AAAA,IACP,kBAAkB;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACN,CAAA;AAAA,IACF;AAAA,IACD,gBAAgB,MAAM;AACpBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,+CAA+C,KAAK,OAAO;AAAA,MACjE,CAAA;AAAA,IACF;AAAA,IACK,aAAa;AAAA;AACjB,YAAI,MAAM,MAAMC,gBAAgB,iBAAC,EAAE,MAAM,GAAG,MAAM,GAAG,SAAS,EAAG,CAAA;AACjE,YAAI,IAAI,QAAQ,KAAK;AACnB,cAAI,KAAK,KAAK,QAAQ,CAAC,SAAS;AAC9B,iBAAK,YACH,KAAK,cAAc,KAAK,WAAW,SAAS,IACxC,KAAK,WAAW,CAAC,IACjB;AAAA,UACP,CAAA;AACD,eAAK,OAAO,IAAI,KAAK;AACrB,eAAK,QAAQ,IAAI,KAAK;AAAA,eACjB;AACL,eAAK,OAAO,IAAI,OAAO;AAAA,QACzB;AAAA,MACD;AAAA;AAAA,EACF;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FA,GAAG,gBAAgB,SAAS;"}