{"version":3,"file":"index.js","sources":["../../../../../../src/pages/tabbar/dynamic/index.vue","../../../../../../uniPage:/cGFnZXMvdGFiYmFyL2R5bmFtaWMvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <div>\n    <z-paging\n      ref=\"pagingRef\"\n      v-model=\"dataList\"\n      @query=\"queryList\"\n      empty-view-text=\"暂无动态\"\n      empty-view-img=\"/static/images/empty.png\"\n      :empty-view-img-style=\"{ width: '160px', height: '160px' }\"\n    >\n      <ActivityItem\n        v-for=\"item in dataList\"\n        :key=\"item\"\n        :item=\"item\"\n        :type=\"type\"\n        @deleteVoluntary=\"isDelete\"\n      />\n    </z-paging>\n  </div>\n</template>\n\n<script>\nimport ActivityItem from '@/components/ActivityItem/index.vue'\nimport { getVoluntaryActivityList } from '@/apis/voluntaryActivity/index'\nexport default {\n  components: {\n    ActivityItem,\n  },\n  data() {\n    return {\n      type: 2,\n      list: [],\n      urls: [],\n      dataList: [],\n      activity_type: '', //1 校园\n    }\n  },\n  onLoad(options) {\n    if (options.activity_type) {\n      this.activity_type = options.activity_type\n    }\n  },\n  onShow() {\n    this.queryList(1, 10)\n  },\n  methods: {\n    isDelete(deleteFlag) {\n      if (deleteFlag) {\n        this.queryList(1, 10)\n      }\n    },\n    async queryList(pageNo, pageSize) {\n      console.log('[ pageNo ] >', pageNo)\n      console.log('[ pageSize ] >', pageSize)\n      let params = {\n        page: pageNo,\n        size: pageSize,\n        is_self: 1,\n      }\n      if (this.activity_type) {\n        params.activity_type = this.activity_type\n      }\n      let res = await getVoluntaryActivityList(params)\n      if (res.code !== 200) {\n        this.$toast(res.message)\n        this.$refs.pagingRef?.complete([])\n        return\n      }\n      if (res.code == 200) {\n        let dealData = res.data.list.map((item) => {\n          let formatObj = {\n            addressFormat: item.province_str + item.county_str + item.city_str + item.address,\n            startTime: this.$dayjs(item.c_time * 1000).format('YYYY-MM-DD HH:mm:ss'),\n          }\n          return {\n            ...formatObj,\n            ...item,\n          }\n        })\n        this.dataList = dealData\n        this.$refs.pagingRef?.complete(dealData)\n      }\n    },\n    change1() {},\n  },\n}\n</script>\n\n<style scoped>\nswiper {\n  height: 442rpx;\n}\n\n.z-paging-content {\n  padding-bottom: 140rpx;\n}\n\n.sticky {\n  top: -1px !important;\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages/tabbar/dynamic/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getVoluntaryActivityList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,MAAA,eAAA,MAAA;AAEA,MAAA,YAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,MAAA;AAAA,MACA,MAAA,CAAA;AAAA,MACA,MAAA,CAAA;AAAA,MACA,UAAA,CAAA;AAAA,MACA,eAAA;AAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA,SAAA;AACA,QAAA,QAAA,eAAA;AACA,WAAA,gBAAA,QAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,SAAA;AACA,SAAA,UAAA,GAAA,EAAA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,SAAA,YAAA;AACA,UAAA,YAAA;AACA,aAAA,UAAA,GAAA,EAAA;AAAA,MACA;AAAA,IACA;AAAA,IACA,UAAA,QAAA,UAAA;AAAA;;AACA,gBAAA,IAAA,gBAAA,MAAA;AACA,gBAAA,IAAA,kBAAA,QAAA;AACA,YAAA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA,UACA,SAAA;AAAA,QACA;AACA,YAAA,KAAA,eAAA;AACA,iBAAA,gBAAA,KAAA;AAAA,QACA;AACA,YAAA,MAAA,MAAAA,6BAAAA,yBAAA,MAAA;AACA,YAAA,IAAA,SAAA,KAAA;AACA,eAAA,OAAA,IAAA,OAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA,CAAA;AACA;AAAA,QACA;AACA,YAAA,IAAA,QAAA,KAAA;AACA,cAAA,WAAA,IAAA,KAAA,KAAA,IAAA,CAAA,SAAA;AACA,gBAAA,YAAA;AAAA,cACA,eAAA,KAAA,eAAA,KAAA,aAAA,KAAA,WAAA,KAAA;AAAA,cACA,WAAA,KAAA,OAAA,KAAA,SAAA,GAAA,EAAA,OAAA,qBAAA;AAAA,YACA;AACA,mBAAA,kCACA,YACA;AAAA,UAEA,CAAA;AACA,eAAA,WAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA;AAAA,QACA;AAAA,MACA;AAAA;AAAA,IACA,UAAA;AAAA,IAAA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFA,GAAG,WAAW,eAAe;"}