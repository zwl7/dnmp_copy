{"version":3,"file":"multiple-picker.js","sources":["../../../../../src/components/multiple-picker/multiple-picker.vue","../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9zcmMvY29tcG9uZW50cy9tdWx0aXBsZS1waWNrZXIvbXVsdGlwbGUtcGlja2VyLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"popup\" v-show=\"show\">\n\t\t<view class=\"bg\" @tap=\"cancelMultiple\"></view>\n\t\t<view class=\"selectMultiple\" :animation=\"animationData\">\n\t\t\t<view class=\"multipleBody\">\n\t\t\t\t<view class=\"title\">\n\t\t\t\t\t<view class=\"close\" @tap=\"cancelMultiple\"> 取消 </view>\n\t\t\t\t\t<view class=\"name\">\n\t\t\t\t\t\t{{ title }}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"confirm\" @tap=\"confirmMultiple\"> 确认 </view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"list\">\n\t\t\t\t\t<view class=\"mask mask-top\"></view>\n\t\t\t\t\t<view class=\"mask mask-bottom\"></view>\n\t\t\t\t\t<scroll-view class=\"diet-list\" scroll-y=\"true\">\n\t\t\t\t\t\t<view\n\t\t\t\t\t\t\tv-for=\"(item, index) in list\"\n\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t:class=\"['item', item.selected ? 'checked' : '']\"\n\t\t\t\t\t\t\t@tap=\"onChange(index, item)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>{{ item.label }}</span>\n\t\t\t\t\t\t\t<view class=\"icon\" v-show=\"item.selected\">\n\t\t\t\t\t\t\t\t<icon type=\"success_no_circle\" size=\"16\" color=\"#2D8DFF\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</scroll-view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tname: \"multiple-picker\",\n\tdata() {\n\t\treturn {\n\t\t\tshow: false,\n\t\t\t// 选中值\n\t\t\tvalue: [],\n\t\t\t// 选中列表\n\t\t\tselected: [],\n\t\t\t// 列表数据\n\t\t\tlist: [],\n\t\t\t// 出场动画\n\t\t\tanimationData: {}\n\t\t};\n\t},\n\tprops: {\n\t\t// 标题\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\t//数据列表\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\t// 默认选中\n\t\tdefaultIndex: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\tmethods: {\n\t\topen() {\n\t\t\tthis.show = true;\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.openMultiple();\n\t\t\t});\n\t\t},\n\t\tclose() {\n\t\t\tthis.show = false;\n\t\t},\n\t\t// 列点击事件\n\t\tonChange(index, item) {\n\t\t\t// 是否已选中\n\t\t\tif (this.value.indexOf(item.value.toString()) >= 0) {\n\t\t\t\tthis.list[index].selected = false;\n\t\t\t} else {\n\t\t\t\tthis.list[index].selected = true;\n\t\t\t}\n\n\t\t\t// 筛选已勾选数据\n\t\t\tthis.value = [];\n\t\t\tthis.selected = [];\n\t\t\tthis.list.forEach((col_item, col_index) => {\n\t\t\t\tif (col_item.selected) {\n\t\t\t\t\tthis.value.push(col_item.value.toString());\n\t\t\t\t\tthis.selected.push({\n\t\t\t\t\t\tlabel: col_item.label,\n\t\t\t\t\t\tvalue: col_item.value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.$emit(\"change\", { selected: this.selected, value: this.value });\n\t\t},\n\t\t// 弹出框开启触发事件\n\t\topenMultiple() {\n\t\t\t// 初始化列表数据,默认勾选数据\n\t\t\tthis.value = this.defaultIndex ? this.defaultIndex : [];\n\t\t\tconsole.log(this.value);\n\t\t\tthis.columns.forEach((item, index) => {\n\t\t\t\tthis.$set(item, \"selected\", false);\n\t\t\t\tif (this.value.indexOf(item.value.toString()) >= 0) {\n\t\t\t\t\titem.selected = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.list = Object.assign([], this.columns);\n\t\t\t// 弹出动画\n\t\t\tthis.openAnimation();\n\t\t},\n\t\t// 确认\n\t\tconfirmMultiple() {\n\t\t\tthis.$emit(\"confirm\", { selected: this.selected, value: this.value });\n\t\t\tthis.show = false;\n\t\t},\n\t\t// 关闭/取消\n\t\tcancelMultiple() {\n\t\t\tthis.$emit(\"cancel\");\n\t\t\tthis.show = false;\n\t\t},\n\t\t// 展开动画\n\t\topenAnimation() {\n\t\t\tvar animation = uni.createAnimation();\n\t\t\tanimation.translate(0, 300).step({ duration: 0 });\n\t\t\tthis.animationData = animation.export();\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tanimation.translate(0, 0).step({ duration: 300, timingFunction: \"ease\" });\n\t\t\t\tthis.animationData = animation.export();\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style scoped lang=\"scss\">\n.popup {\n\twidth: 100%;\n\theight: 100vh;\n\tposition: fixed;\n\tz-index: 99999;\n\tleft: 0;\n\tbottom: 0;\n\n\t.bg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: rgba(black, 0.5);\n\t}\n}\n.selectMultiple {\n\twidth: 100%;\n\tposition: absolute;\n\tleft: 0;\n\tbottom: 0;\n\tbackground-color: white;\n\n\t.multipleBody {\n\t\twidth: 100%;\n\t\tpadding: 30rpx;\n\t\tbox-sizing: border-box;\n\t\tpadding-bottom: 80rpx;\n\n\t\t.title {\n\t\t\tfont-size: 28rpx;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\n\t\t\t.close {\n\t\t\t\twidth: 80rpx;\n\t\t\t\topacity: 0.5;\n\t\t\t}\n\t\t\t.name {\n\t\t\t\twidth: 530rpx;\n\t\t\t\ttext-align: center;\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t-webkit-line-clamp: 1;\n\t\t\t}\n\t\t\t.confirm {\n\t\t\t\twidth: 80rpx;\n\t\t\t\ttext-align: right;\n\t\t\t\tcolor: #2d8dff;\n\t\t\t}\n\t\t}\n\t\t.list {\n\t\t\twidth: 100%;\n\t\t\tpadding-top: 30rpx;\n\t\t\tposition: relative;\n\n\t\t\t.mask {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 120rpx;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 0;\n\t\t\t\tz-index: 2;\n\t\t\t\tpointer-events: none;\n\n\t\t\t\t&.mask-top {\n\t\t\t\t\ttop: 30rpx;\n\t\t\t\t\tbackground-image: linear-gradient(to bottom, #fff, rgba(#fff, 0));\n\t\t\t\t}\n\t\t\t\t&.mask-bottom {\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tbackground-image: linear-gradient(to bottom, rgba(#fff, 0), #fff);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.diet-list {\n\t\t\t\tmax-height: 70vh;\n\t\t\t\tmin-height: 400rpx;\n\t\t\t}\n\n\t\t\t.item {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 100%;\n\t\t\t\tline-height: 40rpx;\n\t\t\t\tborder-bottom: 1px solid rgba($color: #000000, $alpha: 0.05);\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\ttext-align: center;\n\n\t\t\t\tspan {\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t-webkit-line-clamp: 1;\n\t\t\t\t\tpadding: 0 40rpx;\n\t\t\t\t}\n\n\t\t\t\t.icon {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: 10rpx;\n\t\t\t\t\ttop: 50%;\n\t\t\t\t\ttransform: translateY(-50%);\n\t\t\t\t\theight: 16px;\n\t\t\t\t}\n\t\t\t\t&.checked {\n\t\t\t\t\tcolor: #2d8dff;\n\t\t\t\t}\n\t\t\t\t&:last-child {\n\t\t\t\t\tborder-bottom: none;\n\t\t\t\t\tmargin-bottom: 60rpx;\n\t\t\t\t}\n\t\t\t\t&:first-child {\n\t\t\t\t\tmargin-top: 60rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/components/multiple-picker/multiple-picker.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;AAmCA,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AACN,WAAO;AAAA,MACN,MAAM;AAAA;AAAA,MAEN,OAAO,CAAE;AAAA;AAAA,MAET,UAAU,CAAE;AAAA;AAAA,MAEZ,MAAM,CAAE;AAAA;AAAA,MAER,eAAe,CAAA;AAAA,IACf;AAAA,EACD;AAAA,EACD,OAAO;AAAA;AAAA,IAEN,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,SAAS;AAAA,MACR,MAAM;AAAA,MACN,SAAS,CAAA;AAAA,IACT;AAAA;AAAA,IAED,cAAc;AAAA,MACb,MAAM;AAAA,MACN,SAAS,CAAA;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,OAAO;AACN,WAAK,OAAO;AACZ,WAAK,UAAU,MAAM;AACpB,aAAK,aAAc;AAAA,MACpB,CAAC;AAAA,IACD;AAAA,IACD,QAAQ;AACP,WAAK,OAAO;AAAA,IACZ;AAAA;AAAA,IAED,SAAS,OAAO,MAAM;AAErB,UAAI,KAAK,MAAM,QAAQ,KAAK,MAAM,SAAQ,CAAE,KAAK,GAAG;AACnD,aAAK,KAAK,KAAK,EAAE,WAAW;AAAA,aACtB;AACN,aAAK,KAAK,KAAK,EAAE,WAAW;AAAA,MAC7B;AAGA,WAAK,QAAQ,CAAE;AACf,WAAK,WAAW,CAAE;AAClB,WAAK,KAAK,QAAQ,CAAC,UAAU,cAAc;AAC1C,YAAI,SAAS,UAAU;AACtB,eAAK,MAAM,KAAK,SAAS,MAAM,SAAQ,CAAE;AACzC,eAAK,SAAS,KAAK;AAAA,YAClB,OAAO,SAAS;AAAA,YAChB,OAAO,SAAS;AAAA,UACjB,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AACD,WAAK,MAAM,UAAU,EAAE,UAAU,KAAK,UAAU,OAAO,KAAK,OAAO;AAAA,IACnE;AAAA;AAAA,IAED,eAAe;AAEd,WAAK,QAAQ,KAAK,eAAe,KAAK,eAAe,CAAE;AACvD,cAAQ,IAAI,KAAK,KAAK;AACtB,WAAK,QAAQ,QAAQ,CAAC,MAAM,UAAU;AACrC,aAAK,KAAK,MAAM,YAAY,KAAK;AACjC,YAAI,KAAK,MAAM,QAAQ,KAAK,MAAM,SAAQ,CAAE,KAAK,GAAG;AACnD,eAAK,WAAW;AAAA,QACjB;AAAA,MACD,CAAC;AACD,WAAK,OAAO,OAAO,OAAO,CAAE,GAAE,KAAK,OAAO;AAE1C,WAAK,cAAe;AAAA,IACpB;AAAA;AAAA,IAED,kBAAkB;AACjB,WAAK,MAAM,WAAW,EAAE,UAAU,KAAK,UAAU,OAAO,KAAK,OAAO;AACpE,WAAK,OAAO;AAAA,IACZ;AAAA;AAAA,IAED,iBAAiB;AAChB,WAAK,MAAM,QAAQ;AACnB,WAAK,OAAO;AAAA,IACZ;AAAA;AAAA,IAED,gBAAgB;AACf,UAAI,YAAYA,cAAG,MAAC,gBAAiB;AACrC,gBAAU,UAAU,GAAG,GAAG,EAAE,KAAK,EAAE,UAAU,GAAG;AAChD,WAAK,gBAAgB,UAAU,OAAQ;AACvC,WAAK,UAAU,MAAM;AACpB,kBAAU,UAAU,GAAG,CAAC,EAAE,KAAK,EAAE,UAAU,KAAK,gBAAgB,QAAQ;AACxE,aAAK,gBAAgB,UAAU,OAAQ;AAAA,MACxC,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;ACvIA,GAAG,gBAAgB,SAAS;"}