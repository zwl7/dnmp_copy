{"version":3,"file":"index.js","sources":["../../../../../../src/pagesSub/sportsService/serviceComment/index.vue","../../../../../../uniPage:/cGFnZXNTdWIvc3BvcnRzU2VydmljZS9zZXJ2aWNlQ29tbWVudC9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"service-style\">\n    <scroll-view\n      scroll-y\n      class=\"style-list\"\n      @scrolltolower=\"loadMore\"\n      :refresher-enabled=\"true\"\n      @refresherrefresh=\"onRefresh\"\n      :refresher-triggered=\"isRefreshing\"\n    >\n      <serviceCommentItem\n        v-for=\"(item, index) in activityList\"\n        :key=\"index\"\n        :item=\"item\"\n        @click=\"handleItemClick\"\n        @comment=\"handleComment\"\n        @like=\"handleLike\"\n      />\n\n      <uv-empty v-if=\"activityList.length === 0\" text=\"暂无数据\" />\n      <uv-load-more v-if=\"activityList.length > 0\" :status=\"loadMoreStatus\" />\n    </scroll-view>\n\n    <!-- Add publish button -->\n    <view class=\"footer\">\n      <button class=\"publish-btn\" @click=\"goToPublish\">发布服务风采</button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport serviceCommentItem from '../components/serviceCommentItem.vue'\n\nexport default {\n  components: {\n    serviceCommentItem,\n  },\n\n  data() {\n    return {\n      activityList: [],\n      page: 1,\n      pageSize: 10,\n      loadMoreStatus: 'loadmore',\n      isRefreshing: false,\n      // 模拟数据\n      mockActivities: [\n        {\n          id: 1,\n          categoryName: '科学健身指导',\n          userName: '陈教练',\n          avatar: '/static/images/avatar.png',\n          status: '精选',\n          createTime: '2024-03-17 09:15:18',\n          content: '老年人广场舞培训活动服务现场，大家都积极学习！',\n          images: [\n            '/static/images/activity1.jpg',\n            '/static/images/activity2.jpg',\n            '/static/images/activity3.jpg',\n          ],\n          location: '城南市民健身公园',\n          likes: 1,\n        },\n        {\n          id: 2,\n          categoryName: '科学健身指导',\n          userName: '李教练',\n          avatar: '/static/images/avatar.png',\n          status: '精选',\n          createTime: '2024-03-17 09:10:18',\n          content: '老年人广场舞培训活动服务现场，大家都积极学习！',\n          images: [\n            '/static/images/activity1.jpg',\n            '/static/images/activity2.jpg',\n            '/static/images/activity3.jpg',\n          ],\n          location: '城南市民健身公园',\n          likes: 0,\n        },\n      ],\n    }\n  },\n\n  mounted() {\n    this.getActivityList()\n  },\n\n  methods: {\n    // 获取活动列表\n    async getActivityList(isRefresh = false) {\n      if (isRefresh) {\n        this.page = 1\n        this.activityList = []\n      }\n\n      // 模拟接口请求\n      await new Promise((resolve) => setTimeout(resolve, 1000))\n\n      const list = this.mockActivities.map((item) => ({\n        ...item,\n        id: item.id + this.page * 10,\n      }))\n\n      if (isRefresh) {\n        this.activityList = list\n      } else {\n        this.activityList = [...this.activityList, ...list]\n      }\n\n      this.loadMoreStatus = list.length < this.pageSize ? 'nomore' : 'loadmore'\n    },\n\n    // 下拉刷新\n    async onRefresh() {\n      this.isRefreshing = true\n      await this.getActivityList(true)\n      this.isRefreshing = false\n    },\n\n    // 加载更多\n    loadMore() {\n      if (this.loadMoreStatus === 'nomore') return\n      this.page++\n      this.getActivityList()\n    },\n\n    // 点击列表项\n    handleItemClick(item) {\n      uni.navigateTo({\n        url: `/pagesSub/sportsService/serviceDetail/index?id=${item.id}`,\n      })\n    },\n\n    // 点击评论\n    handleComment(item) {\n      uni.showToast({\n        title: '评论功能开发中',\n        icon: 'none',\n      })\n    },\n\n    // 点击点赞\n    handleLike(item) {\n      const index = this.activityList.findIndex((i) => i.id === item.id)\n      if (index > -1) {\n        this.activityList[index].likes = this.activityList[index].likes ? 0 : 1\n      }\n    },\n\n    goToPublish() {\n      uni.navigateTo({\n        url: '/pagesSub/sportsService/serviceStyle/form',\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.service-style {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n\n  .style-list {\n    box-sizing: border-box;\n    height: 100vh;\n    padding: 20px;\n  }\n\n  .footer {\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    padding: 20px;\n    background-color: #fff;\n    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);\n  }\n\n  .style-item {\n    padding: 20px;\n    margin-bottom: 20px;\n    background-color: #fff;\n    border-radius: 12px;\n\n    .item-title {\n      margin-bottom: 12px;\n      font-size: 16px;\n      font-weight: bold;\n    }\n\n    .item-info {\n      display: flex;\n      align-items: center;\n      margin-bottom: 12px;\n\n      .info-label {\n        margin-right: 8px;\n        font-size: 14px;\n        color: #666;\n      }\n\n      .info-value {\n        font-size: 14px;\n        color: #333;\n      }\n    }\n\n    .item-status {\n      font-size: 14px;\n      color: #666;\n    }\n  }\n\n  .publish-btn {\n    position: fixed;\n    bottom: 20px;\n    left: 50%;\n    width: 90%;\n    height: 44px;\n    font-size: 16px;\n    line-height: 44px;\n    color: #fff;\n    text-align: center;\n    background-color: #007aff;\n    border-radius: 22px;\n    transform: translateX(-50%);\n  }\n\n  .publish-btn:active {\n    opacity: 0.8;\n  }\n\n  .list-item {\n    padding: 20px;\n    margin-bottom: 10px;\n    background-color: #fff;\n    border-radius: 8px;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pagesSub/sportsService/serviceComment/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,MAAA,qBAAA,MAAA;AAEA,MAAA,YAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,EACA;AAAA,EAEA,OAAA;AACA,WAAA;AAAA,MACA,cAAA,CAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAA;AAAA,MACA,gBAAA;AAAA,MACA,cAAA;AAAA;AAAA,MAEA,gBAAA;AAAA,QACA;AAAA,UACA,IAAA;AAAA,UACA,cAAA;AAAA,UACA,UAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA;AAAA,UACA,YAAA;AAAA,UACA,SAAA;AAAA,UACA,QAAA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACA;AAAA,UACA,UAAA;AAAA,UACA,OAAA;AAAA,QACA;AAAA,QACA;AAAA,UACA,IAAA;AAAA,UACA,cAAA;AAAA,UACA,UAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA;AAAA,UACA,YAAA;AAAA,UACA,SAAA;AAAA,UACA,QAAA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACA;AAAA,UACA,UAAA;AAAA,UACA,OAAA;AAAA,QACA;AAAA,MACA;AAAA,IACA;AAAA,EACA;AAAA,EAEA,UAAA;AACA,SAAA,gBAAA;AAAA,EACA;AAAA,EAEA,SAAA;AAAA;AAAA,IAEA,gBAAA,YAAA,OAAA;AAAA;AACA,YAAA,WAAA;AACA,eAAA,OAAA;AACA,eAAA,eAAA,CAAA;AAAA,QACA;AAGA,cAAA,IAAA,QAAA,CAAA,YAAA,WAAA,SAAA,GAAA,CAAA;AAEA,cAAA,OAAA,KAAA,eAAA,IAAA,CAAA,SAAA,iCACA,OADA;AAAA,UAEA,IAAA,KAAA,KAAA,KAAA,OAAA;AAAA,QACA,EAAA;AAEA,YAAA,WAAA;AACA,eAAA,eAAA;AAAA,eACA;AACA,eAAA,eAAA,CAAA,GAAA,KAAA,cAAA,GAAA,IAAA;AAAA,QACA;AAEA,aAAA,iBAAA,KAAA,SAAA,KAAA,WAAA,WAAA;AAAA,MACA;AAAA;AAAA;AAAA,IAGA,YAAA;AAAA;AACA,aAAA,eAAA;AACA,cAAA,KAAA,gBAAA,IAAA;AACA,aAAA,eAAA;AAAA,MACA;AAAA;AAAA;AAAA,IAGA,WAAA;AACA,UAAA,KAAA,mBAAA;AAAA;AACA,WAAA;AACA,WAAA,gBAAA;AAAA,IACA;AAAA;AAAA,IAGA,gBAAA,MAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,kDAAA,KAAA,EAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA;AAAA,IAGA,cAAA,MAAA;AACAA,oBAAAA,MAAA,UAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA;AAAA,IAGA,WAAA,MAAA;AACA,YAAA,QAAA,KAAA,aAAA,UAAA,CAAA,MAAA,EAAA,OAAA,KAAA,EAAA;AACA,UAAA,QAAA,IAAA;AACA,aAAA,aAAA,KAAA,EAAA,QAAA,KAAA,aAAA,KAAA,EAAA,QAAA,IAAA;AAAA,MACA;AAAA,IACA;AAAA,IAEA,cAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1JA,GAAG,WAAW,eAAe;"}