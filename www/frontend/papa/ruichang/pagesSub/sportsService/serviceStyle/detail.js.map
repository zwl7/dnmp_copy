{"version":3,"file":"detail.js","sources":["../../../../../../src/pagesSub/sportsService/serviceStyle/detail.vue","../../../../../../uniPage:/cGFnZXNTdWIvc3BvcnRzU2VydmljZS9zZXJ2aWNlU3R5bGUvZGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"detail-page\">\n    <!-- 骨架屏 -->\n    <uv-skeleton\n      :loading=\"loading\"\n      avatar\n      avatarSize=\"48\"\n      titleHeight=\"24\"\n      rowsHeight=\"24\"\n      rows=\"4\"\n    ></uv-skeleton>\n    <!-- 内容 -->\n    <ServiceStyleItem\n      v-if=\"!loading\"\n      :item=\"detailData\"\n      :is-detail=\"true\"\n      :is-rated=\"isRated\"\n      :is-comment=\"isComment\"\n      :isShare=\"false\"\n      @like=\"onLike\"\n      @comment=\"onComment\"\n      :isMyComment=\"myComment\"\n      @refresh=\"handleGetInfo\"\n      :viewType=\"true\"\n    />\n\n    <!-- 点赞区域 -->\n    <view class=\"like-section\" v-if=\"detailData.avatarList && detailData.avatarList.length > 0\">\n      <image\n        src=\"https://cdn-static.papa.com.cn/jingAn/icon/thumb-fill.svg\"\n        mode=\"\"\n        style=\"padding-top: 8rpx\"\n      />\n      <!-- <view class=\"like-count\">{{ detailData.likeCount }}人点赞</view> -->\n      <view class=\"avatar-group\">\n        <uv-avatar\n          v-for=\"(avatar, index) in detailData.avatarList\"\n          :key=\"index\"\n          :src=\"avatar\"\n          size=\"32\"\n          :margin=\"[-10, 0, 0, 0]\"\n        ></uv-avatar>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport ServiceStyleItem from '../components/ServiceStyleItem/index.vue'\nimport { getStyleDetail, addAppraise } from '@/apis/sportsService/serviceStyle'\nexport default {\n  components: {\n    ServiceStyleItem,\n  },\n  data() {\n    return {\n      detailData: {\n        id: '',\n        category: '',\n        title: '',\n        avatar: '',\n        nickname: '',\n        time: '',\n        content: '',\n        images: [],\n        location: '',\n        participants: [],\n        participantCount: 70,\n        likeCount: 66,\n        commentCount: 0,\n        likeAvatars: [], // 点赞用户头像列表\n        level: '已认证',\n      },\n      isRated: false,\n      serveMienId: '',\n      myComment: false,\n      isComment: true,\n      loading: true, // 是否加载中\n    }\n  },\n  onLoad(options) {\n    this.serveMienId = options.id\n    this.myComment = Boolean(options.myComment)\n    if (this.myComment) {\n      this.isComment = false\n    }\n    this.handleGetInfo()\n  },\n  methods: {\n    async handleGetInfo() {\n      this.loading = true\n      const res = await getStyleDetail(this.serveMienId)\n      if (res.code === 0) {\n        console.log({ res })\n        res.data.images = res.data.image?.split(',')\n        this.detailData = res.data\n      } else {\n        uni.showToast({\n          title: res.msg,\n          icon: 'none',\n        })\n      }\n      this.loading = false\n    },\n    onLike(item) {\n      // 处理点赞逻辑\n      console.log('点赞', item)\n    },\n    onComment(item) {\n      // 处理评论逻辑\n      console.log('评论', item)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-page {\n  min-height: 100vh;\n  padding: 16px;\n  background: #fff;\n}\n\n.like-section {\n  // margin: 16px;\n  display: flex;\n  gap: 24rpx;\n  padding: 24rpx;\n  background: #f8fcf7;\n  border-radius: 8px;\n  image {\n    width: 40rpx;\n    height: 40rpx;\n  }\n  .like-count {\n    margin-bottom: 12px;\n    font-size: 14px;\n    color: #666;\n  }\n\n  .avatar-group {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 16rpx;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pagesSub/sportsService/serviceStyle/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["getStyleDetail","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAgDA,MAAA,mBAAA,MAAA;AAEA,MAAA,YAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,YAAA;AAAA,QACA,IAAA;AAAA,QACA,UAAA;AAAA,QACA,OAAA;AAAA,QACA,QAAA;AAAA,QACA,UAAA;AAAA,QACA,MAAA;AAAA,QACA,SAAA;AAAA,QACA,QAAA,CAAA;AAAA,QACA,UAAA;AAAA,QACA,cAAA,CAAA;AAAA,QACA,kBAAA;AAAA,QACA,WAAA;AAAA,QACA,cAAA;AAAA,QACA,aAAA,CAAA;AAAA;AAAA,QACA,OAAA;AAAA,MACA;AAAA,MACA,SAAA;AAAA,MACA,aAAA;AAAA,MACA,WAAA;AAAA,MACA,WAAA;AAAA,MACA,SAAA;AAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA,SAAA;AACA,SAAA,cAAA,QAAA;AACA,SAAA,YAAA,QAAA,QAAA,SAAA;AACA,QAAA,KAAA,WAAA;AACA,WAAA,YAAA;AAAA,IACA;AACA,SAAA,cAAA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,gBAAA;AAAA;;AACA,aAAA,UAAA;AACA,cAAA,MAAA,MAAAA,+CAAA,KAAA,WAAA;AACA,YAAA,IAAA,SAAA,GAAA;AACA,kBAAA,IAAA,EAAA,IAAA,CAAA;AACA,cAAA,KAAA,UAAA,SAAA,KAAA,UAAA,mBAAA,MAAA;AACA,eAAA,aAAA,IAAA;AAAA,eACA;AACAC,wBAAAA,MAAA,UAAA;AAAA,YACA,OAAA,IAAA;AAAA,YACA,MAAA;AAAA,UACA,CAAA;AAAA,QACA;AACA,aAAA,UAAA;AAAA,MACA;AAAA;AAAA,IACA,OAAA,MAAA;AAEA,cAAA,IAAA,MAAA,IAAA;AAAA,IACA;AAAA,IACA,UAAA,MAAA;AAEA,cAAA,IAAA,MAAA,IAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChHA,GAAG,WAAW,eAAe;"}