{"version":3,"file":"homeDropDown.js","sources":["../../../../../../../src/pagesSub/sportsService/serviceStyle/components/homeDropDown.vue","../../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9zcmMvcGFnZXNTdWIvc3BvcnRzU2VydmljZS9zZXJ2aWNlU3R5bGUvY29tcG9uZW50cy9ob21lRHJvcERvd24udnVl"],"sourcesContent":["<template>\n  <div style=\"background-color: #fff\">\n    <dropDown\n      sign=\"associationItem\"\n      ref=\"dropDown\"\n      :options=\"options\"\n      :sleep=\"100\"\n      @change=\"changeDropDown\"\n      @popupChange=\"changePopup\"\n      @open=\"openDrop\"\n    >\n      <!-- <view v-show=\"selectType == 'belong_place_id'\">\n        <dropDownCitySelect @confirm=\"citySelectConfirm\" @reset=\"citySelectReset\" />\n      </view>\n      <view v-show=\"selectType == 'sport_tag_ids'\">\n        <dropDownProjectSelect @confirm=\"projectSelectConfirm\" @reset=\"projectSelectReset\" />\n      </view> -->\n    </dropDown>\n  </div>\n</template>\n\n<script>\nimport dropDown from '@/components/dropDown/index.vue'\n// import dropDownCitySelect from '@/components/dropDown/dropDownCitySelect.vue'\n// import dropDownProjectSelect from '@/components/dropDown/dropDownProjectSelect.vue'\nimport { getServicesDictPage } from '@/apis/sportsService/common'\nexport default {\n  components: {\n    dropDown,\n    // dropDownCitySelect,\n    // dropDownProjectSelect,\n  },\n  data() {\n    return {\n      searchFormValue: {},\n      selectType: '',\n      popupChange: false,\n      options: {\n        // belong_place_id: {\n        //   label: '全部区域',\n        //   value: 0,\n        //   child: [],\n        //   useSlot: true,\n        // },\n        sport_tag_ids: {\n          label: '全部类型',\n          value: 0,\n          child: [],\n        },\n        sort: {\n          label: '全部排序',\n          value: 0,\n          activeIndex: 0,\n          child: [\n            {\n              label: '全部排序',\n              value: 0,\n            },\n            // {\n            //   label: '热度排序',\n            //   value: 1,\n            // },\n            {\n              label: '时间排序',\n              value: 1,\n            },\n            {\n              label: '点赞排序',\n              value: 2,\n            },\n          ],\n        },\n      },\n    }\n  },\n  created(options) {\n    console.log('调用')\n\n    this.handelGetServicesDictPage()\n  },\n  methods: {\n    // 获取项目\n    async handelGetServicesDictPage() {\n      const res = await getServicesDictPage({ dict_type_sign: 'service_type' })\n      if (res.code === 0) {\n        console.log({ sear: res })\n        let list = res.data.listData.map((item) => ({ label: item.name, value: item.dictId }))\n        list.unshift({ label: '全部类型', value: '' })\n        this.options.sport_tag_ids.child = list\n        console.log({ options: this.options })\n      }\n    },\n    init() {\n      this.$refs['dropDown'].init()\n    },\n    openDrop(e) {\n      this.selectType = e.name\n      this.$emit('open', e)\n    },\n    changePopup(e) {\n      this.popupChange = e.show\n    },\n    changeDropDown(res) {\n      let obj = {}\n      res.map((e) => {\n        obj[e.name] = e.value\n      })\n      this.searchFormValue = {\n        ...this.searchFormValue,\n        ...obj,\n      }\n      this.handleSearch()\n    },\n    //  城市选择确认\n    citySelectConfirm(e) {\n      let item = e.data[e.data.length - 1]\n      let values = e.values\n      this.options['belong_place_id'].label = item ? item.name : '全部区域'\n      this.searchFormValue['company_area_id'] = values.length ? values[values.length - 1] : ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    // 城市选择重置\n    citySelectReset() {\n      this.options['belong_place_id'].label = '全部区域'\n      this.searchFormValue['company_area_id'] = ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    // 项目选择确认\n    projectSelectConfirm(e) {\n      let item = e.data[e.data.length - 1]\n      let values = e.values\n      this.options['sport_tag_ids'].label = item ? item.name : '全部项目'\n      this.searchFormValue['dictId'] = values.length ? values[values.length - 1] : ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    // 项目选择重置\n    projectSelectReset() {\n      this.options['sport_tag_ids'].label = '全部项目'\n      this.searchFormValue['dictId'] = ''\n      this.$refs['dropDown'].close()\n      this.handleSearch()\n    },\n    handleSearch() {\n      console.log(this.searchFormValue)\n      let params = JSON.parse(JSON.stringify(this.searchFormValue))\n      for (const key in params) {\n        const item = params[key]\n        if (item == '') {\n          delete params[key]\n        }\n      }\n      this.$emit('search', params)\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pagesSub/sportsService/serviceStyle/components/homeDropDown.vue'\nwx.createComponent(Component)"],"names":["getServicesDictPage"],"mappings":"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"}