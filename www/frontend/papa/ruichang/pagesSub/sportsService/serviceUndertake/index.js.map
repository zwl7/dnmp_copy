{"version":3,"file":"index.js","sources":["../../../../../../src/pagesSub/sportsService/serviceUndertake/index.vue","../../../../../../uniPage:/cGFnZXNTdWIvc3BvcnRzU2VydmljZS9zZXJ2aWNlVW5kZXJ0YWtlL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"service-undertake\">\n    <view class=\"header\">\n      <view class=\"tabs\">\n        <view\n          v-for=\"(tab, index) in tabs\"\n          :key=\"index\"\n          :class=\"['tab-item', currentTab === index ? 'active' : '']\"\n          @click=\"handleTabChange(index)\"\n        >\n          {{ tab.name }}\n          <text class=\"count\">({{ tab.count }})</text>\n        </view>\n      </view>\n    </view>\n\n    <scroll-view\n      scroll-y\n      class=\"service-list\"\n      @scrolltolower=\"loadMore\"\n      :refresher-enabled=\"true\"\n      @refresherrefresh=\"onRefresh\"\n      :refresher-triggered=\"isRefreshing\"\n    >\n      <view class=\"service-item\" v-for=\"(item, index) in serviceList\" :key=\"index\">\n        <view class=\"service-header\">\n          <view class=\"tag\">{{ item.categoryName }}</view>\n          <view class=\"status\" :class=\"item.status\">{{ item.statusText }}</view>\n        </view>\n        <view class=\"service-title\">{{ item.title }}</view>\n        <view class=\"service-info\">\n          <view class=\"info-item\">\n            <text class=\"label\">服务时间：</text>\n            <text class=\"value\">{{ item.serviceTime }}</text>\n          </view>\n          <view class=\"info-item\">\n            <text class=\"label\">服务地点：</text>\n            <text class=\"value\">{{ item.address }}</text>\n          </view>\n          <view class=\"info-item\">\n            <text class=\"label\">人数限制：</text>\n            <text class=\"value\">{{ item.personLimit }}人</text>\n          </view>\n          <view class=\"info-item\">\n            <text class=\"label\">报名时间：</text>\n            <text class=\"value\">{{ item.applyTime }}</text>\n          </view>\n        </view>\n        <view class=\"service-footer\">\n          <button class=\"btn\" @click=\"handleApply(item)\">发布服务承接</button>\n          <button class=\"btn btn-plain\" @click=\"handleView(item)\">查看</button>\n        </view>\n      </view>\n\n      <uv-empty v-if=\"serviceList.length === 0\" text=\"暂无数据\" />\n      <uv-load-more v-if=\"serviceList.length > 0\" :status=\"loadMoreStatus\" />\n    </scroll-view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      tabs: [\n        { name: '特处理', count: 5 },\n        { name: '全部', count: 10 },\n      ],\n      currentTab: 0,\n      serviceList: [],\n      page: 1,\n      pageSize: 10,\n      loadMoreStatus: 'loadmore',\n      isRefreshing: false,\n      // 模拟数据\n      mockServices: [\n        {\n          id: 1,\n          categoryName: '赛事活动组',\n          title: '青少年篮球赛裁判员',\n          status: 'pending',\n          statusText: '待发布',\n          serviceTime: '2025-5-1 19:00',\n          address: '南门社区广场',\n          personLimit: 30,\n          applyTime: '2025-04-16 09:15',\n        },\n        {\n          id: 2,\n          categoryName: '赛事活动组',\n          title: '青少年篮球赛裁判员',\n          status: 'published',\n          statusText: '已发布',\n          serviceTime: '2025-5-1 19:00',\n          address: '南门社区广场',\n          personLimit: 30,\n          applyTime: '2025-04-16 09:15',\n        },\n      ],\n    }\n  },\n\n  mounted() {\n    this.getServiceList()\n  },\n\n  methods: {\n    // 获取服务列表\n    async getServiceList(isRefresh = false) {\n      if (isRefresh) {\n        this.page = 1\n        this.serviceList = []\n      }\n\n      // 模拟接口请求\n      await new Promise((resolve) => setTimeout(resolve, 1000))\n\n      const list = this.mockServices.map((item) => ({\n        ...item,\n        id: item.id + this.page * 10,\n      }))\n\n      if (isRefresh) {\n        this.serviceList = list\n      } else {\n        this.serviceList = [...this.serviceList, ...list]\n      }\n\n      this.loadMoreStatus = list.length < this.pageSize ? 'nomore' : 'loadmore'\n    },\n\n    // 切换标签\n    handleTabChange(index) {\n      if (this.currentTab === index) return\n      this.currentTab = index\n      this.getServiceList(true)\n    },\n\n    // 下拉刷新\n    async onRefresh() {\n      this.isRefreshing = true\n      await this.getServiceList(true)\n      this.isRefreshing = false\n    },\n\n    // 加载更多\n    loadMore() {\n      if (this.loadMoreStatus === 'nomore') return\n      this.page++\n      this.getServiceList()\n    },\n\n    // 发布服务承接\n    handleApply(item) {\n      uni.showModal({\n        title: '提示',\n        content: '确认发布该服务承接吗？',\n        success: (res) => {\n          if (res.confirm) {\n            uni.showToast({\n              title: '发布成功',\n              icon: 'success',\n            })\n            this.getServiceList(true)\n          }\n        },\n      })\n    },\n\n    // 查看详情\n    handleView(item) {\n      uni.navigateTo({\n        url: `/pagesSub/sportsService/serviceDetail/index?id=${item.id}`,\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.service-undertake {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n\n  .header {\n    padding: 20rpx 30rpx;\n    background-color: #fff;\n\n    .tabs {\n      display: flex;\n      border-bottom: 1px solid #eee;\n\n      .tab-item {\n        position: relative;\n        flex: 1;\n        padding: 20rpx 0;\n        font-size: 28rpx;\n        color: #666;\n        text-align: center;\n\n        .count {\n          font-size: 24rpx;\n          color: #999;\n        }\n\n        &.active {\n          font-weight: bold;\n          color: #409eff;\n\n          &::after {\n            position: absolute;\n            bottom: -1px;\n            left: 50%;\n            width: 40rpx;\n            height: 4rpx;\n            content: '';\n            background-color: #409eff;\n            transform: translateX(-50%);\n          }\n        }\n      }\n    }\n  }\n\n  .service-list {\n    box-sizing: border-box;\n    height: calc(100vh - 100rpx);\n    padding: 20rpx;\n\n    .service-item {\n      padding: 20rpx;\n      margin-bottom: 20rpx;\n      background-color: #fff;\n      border-radius: 12rpx;\n\n      .service-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 16rpx;\n\n        .tag {\n          padding: 4rpx 16rpx;\n          font-size: 24rpx;\n          color: #fff;\n          background-color: #67c23a;\n          border-radius: 4rpx;\n        }\n\n        .status {\n          font-size: 24rpx;\n\n          &.pending {\n            color: #ff9900;\n          }\n\n          &.published {\n            color: #409eff;\n          }\n        }\n      }\n\n      .service-title {\n        margin-bottom: 16rpx;\n        font-size: 32rpx;\n        font-weight: bold;\n        color: #333;\n      }\n\n      .service-info {\n        .info-item {\n          display: flex;\n          margin-bottom: 12rpx;\n\n          .label {\n            width: 140rpx;\n            font-size: 28rpx;\n            color: #666;\n          }\n\n          .value {\n            flex: 1;\n            font-size: 28rpx;\n            color: #333;\n          }\n        }\n      }\n\n      .service-footer {\n        display: flex;\n        justify-content: flex-end;\n        padding-top: 20rpx;\n        margin-top: 20rpx;\n        border-top: 1px solid #eee;\n\n        .btn {\n          min-width: 160rpx;\n          height: 64rpx;\n          margin-left: 20rpx;\n          font-size: 28rpx;\n          line-height: 64rpx;\n          text-align: center;\n          border-radius: 32rpx;\n\n          &:not(.btn-plain) {\n            color: #fff;\n            background-color: #409eff;\n          }\n\n          &.btn-plain {\n            color: #409eff;\n            background-color: #fff;\n            border: 1px solid #409eff;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pagesSub/sportsService/serviceUndertake/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,MAAA,YAAA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,MAAA;AAAA,QACA,EAAA,MAAA,OAAA,OAAA,EAAA;AAAA,QACA,EAAA,MAAA,MAAA,OAAA,GAAA;AAAA,MACA;AAAA,MACA,YAAA;AAAA,MACA,aAAA,CAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAA;AAAA,MACA,gBAAA;AAAA,MACA,cAAA;AAAA;AAAA,MAEA,cAAA;AAAA,QACA;AAAA,UACA,IAAA;AAAA,UACA,cAAA;AAAA,UACA,OAAA;AAAA,UACA,QAAA;AAAA,UACA,YAAA;AAAA,UACA,aAAA;AAAA,UACA,SAAA;AAAA,UACA,aAAA;AAAA,UACA,WAAA;AAAA,QACA;AAAA,QACA;AAAA,UACA,IAAA;AAAA,UACA,cAAA;AAAA,UACA,OAAA;AAAA,UACA,QAAA;AAAA,UACA,YAAA;AAAA,UACA,aAAA;AAAA,UACA,SAAA;AAAA,UACA,aAAA;AAAA,UACA,WAAA;AAAA,QACA;AAAA,MACA;AAAA,IACA;AAAA,EACA;AAAA,EAEA,UAAA;AACA,SAAA,eAAA;AAAA,EACA;AAAA,EAEA,SAAA;AAAA;AAAA,IAEA,eAAA,YAAA,OAAA;AAAA;AACA,YAAA,WAAA;AACA,eAAA,OAAA;AACA,eAAA,cAAA,CAAA;AAAA,QACA;AAGA,cAAA,IAAA,QAAA,CAAA,YAAA,WAAA,SAAA,GAAA,CAAA;AAEA,cAAA,OAAA,KAAA,aAAA,IAAA,CAAA,SAAA,iCACA,OADA;AAAA,UAEA,IAAA,KAAA,KAAA,KAAA,OAAA;AAAA,QACA,EAAA;AAEA,YAAA,WAAA;AACA,eAAA,cAAA;AAAA,eACA;AACA,eAAA,cAAA,CAAA,GAAA,KAAA,aAAA,GAAA,IAAA;AAAA,QACA;AAEA,aAAA,iBAAA,KAAA,SAAA,KAAA,WAAA,WAAA;AAAA,MACA;AAAA;AAAA;AAAA,IAGA,gBAAA,OAAA;AACA,UAAA,KAAA,eAAA;AAAA;AACA,WAAA,aAAA;AACA,WAAA,eAAA,IAAA;AAAA,IACA;AAAA;AAAA,IAGA,YAAA;AAAA;AACA,aAAA,eAAA;AACA,cAAA,KAAA,eAAA,IAAA;AACA,aAAA,eAAA;AAAA,MACA;AAAA;AAAA;AAAA,IAGA,WAAA;AACA,UAAA,KAAA,mBAAA;AAAA;AACA,WAAA;AACA,WAAA,eAAA;AAAA,IACA;AAAA;AAAA,IAGA,YAAA,MAAA;AACAA,oBAAAA,MAAA,UAAA;AAAA,QACA,OAAA;AAAA,QACA,SAAA;AAAA,QACA,SAAA,CAAA,QAAA;AACA,cAAA,IAAA,SAAA;AACAA,0BAAAA,MAAA,UAAA;AAAA,cACA,OAAA;AAAA,cACA,MAAA;AAAA,YACA,CAAA;AACA,iBAAA,eAAA,IAAA;AAAA,UACA;AAAA,QACA;AAAA,MACA,CAAA;AAAA,IACA;AAAA;AAAA,IAGA,WAAA,MAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,kDAAA,KAAA,EAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/KA,GAAG,WAAW,eAAe;"}