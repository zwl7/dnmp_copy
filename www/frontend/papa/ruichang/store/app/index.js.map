{"version":3,"file":"index.js","sources":["../../../../../src/store/app/index.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { themeStyleMap, themeIconMap } from '@/utils/theme'\nimport {\n  setThemeColor as setThemeColorStorage,\n  getThemeColor as getThemeColorStorage,\n  clearThemeColor as clearThemeColorStorage,\n  getTabbarList,\n} from '@/utils/storages/saveGlobalStroage'\n\nexport const useAppStore = defineStore({\n  id: 'app',\n  state() {\n    return {\n      appName: '',\n      themeConfig: {},\n      themeType: 'SkyBlue', //  1 SkyBlue 天空蓝  2 EcologicalGreen 生态绿\n      siteInfo: {},\n      systemInfo: {},\n      menuInfo: {},\n      themeIconMapData: {},\n    }\n  },\n  getters: {\n    themeConfigGetter() {\n      return this.themeConfig\n    },\n  },\n  actions: {\n    getAppBaseInfo() {\n      return new Promise((resolve) => {\n        uni.getAppBaseInfo({\n          success: (res) => {\n            this.appName = res.appName\n          },\n        })\n      })\n    },\n    getSystemInfo() {\n      return new Promise((resolve) => {\n        uni.getSystemInfo({\n          success: (res) => {\n            this.systemInfo = res\n            const menuButtonInfo = uni.getMenuButtonBoundingClientRect()\n            this.menuInfo.navBarHeight = res.statusBarHeight + menuButtonInfo.height + 10\n            this.menuInfo.menuWidth = menuButtonInfo.width\n            this.menuInfo.menuTop = menuButtonInfo.top\n            this.menuInfo.menuHeight = menuButtonInfo.height\n            this.menuInfo.menuRight = res.screenWidth - menuButtonInfo.right\n            resolve(res)\n          },\n        })\n      })\n    },\n    // 设置主题类型\n    setThemeType(themeType) {\n      uni.$log.info('获取主题色', themeType)\n      this.themeType = themeType\n      this.themeConfig = themeStyleMap[themeType]\n      this.themeIconMapData = themeIconMap[this.themeType] || themeIconMap.SkyBlue\n      console.log(this.themeIconMapData)\n      setThemeColorStorage(this.themeConfig)\n    },\n  },\n})\n"],"names":["defineStore","uni","themeStyleMap","themeIconMap","setThemeColorStorage"],"mappings":";;;;AASY,MAAC,cAAcA,cAAAA,YAAY;AAAA,EACrC,IAAI;AAAA,EACJ,QAAQ;AACN,WAAO;AAAA,MACL,SAAS;AAAA,MACT,aAAa,CAAE;AAAA,MACf,WAAW;AAAA;AAAA,MACX,UAAU,CAAE;AAAA,MACZ,YAAY,CAAE;AAAA,MACd,UAAU,CAAE;AAAA,MACZ,kBAAkB,CAAE;AAAA,IAC1B;AAAA,EACG;AAAA,EACD,SAAS;AAAA,IACP,oBAAoB;AAClB,aAAO,KAAK;AAAA,IACb;AAAA,EACF;AAAA,EACD,SAAS;AAAA,IACP,iBAAiB;AACf,aAAO,IAAI,QAAQ,CAAC,YAAY;AAC9BC,sBAAAA,MAAI,eAAe;AAAA,UACjB,SAAS,CAAC,QAAQ;AAChB,iBAAK,UAAU,IAAI;AAAA,UACpB;AAAA,QACF,CAAA;AAAA,MACF,CAAA;AAAA,IACF;AAAA,IACD,gBAAgB;AACd,aAAO,IAAI,QAAQ,CAAC,YAAY;AAC9BA,sBAAAA,MAAI,cAAc;AAAA,UAChB,SAAS,CAAC,QAAQ;AAChB,iBAAK,aAAa;AAClB,kBAAM,iBAAiBA,cAAAA,MAAI,gCAA+B;AAC1D,iBAAK,SAAS,eAAe,IAAI,kBAAkB,eAAe,SAAS;AAC3E,iBAAK,SAAS,YAAY,eAAe;AACzC,iBAAK,SAAS,UAAU,eAAe;AACvC,iBAAK,SAAS,aAAa,eAAe;AAC1C,iBAAK,SAAS,YAAY,IAAI,cAAc,eAAe;AAC3D,oBAAQ,GAAG;AAAA,UACZ;AAAA,QACF,CAAA;AAAA,MACF,CAAA;AAAA,IACF;AAAA;AAAA,IAED,aAAa,WAAW;AACtBA,oBAAAA,MAAI,KAAK,KAAK,SAAS,SAAS;AAChC,WAAK,YAAY;AACjB,WAAK,cAAcC,YAAAA,cAAc,SAAS;AAC1C,WAAK,mBAAmBC,YAAY,aAAC,KAAK,SAAS,KAAKA,YAAAA,aAAa;AACrE,cAAQ,IAAI,KAAK,gBAAgB;AACjCC,uCAAoB,cAAC,KAAK,WAAW;AAAA,IACtC;AAAA,EACF;AACH,CAAC;;"}