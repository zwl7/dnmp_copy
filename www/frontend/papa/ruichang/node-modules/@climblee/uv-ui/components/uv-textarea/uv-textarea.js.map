{"version":3,"file":"uv-textarea.js","sources":["../../../../../../../../node_modules/@climblee/uv-ui/components/uv-textarea/uv-textarea.vue","../../../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9ub2RlX21vZHVsZXMvQGNsaW1ibGVlL3V2LXVpL2NvbXBvbmVudHMvdXYtdGV4dGFyZWEvdXYtdGV4dGFyZWEudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"uv-textarea\"\r\n\t\t:class=\"textareaClass\"\r\n\t\t:style=\"[textareaStyle]\">\r\n\t\t<textarea class=\"uv-textarea__field\"\r\n\t\t\t:value=\"innerValue\"\r\n\t\t\t:style=\"[\r\n\t\t\t\t{height: autoHeight ? 'auto' :$uv.addUnit(height)},\r\n\t\t\t\t$uv.addStyle(textStyle)\r\n\t\t\t]\"\r\n\t\t\t:placeholder=\"placeholder\"\r\n\t\t\t:placeholder-style=\"$uv.addStyle(placeholderStyle, 'string')\"\r\n\t\t\t:placeholder-class=\"placeholderClass\"\r\n\t\t\t:disabled=\"disabled\"\r\n\t\t\t:focus=\"focus\"\r\n\t\t\t:autoHeight=\"autoHeight\"\r\n\t\t\t:fixed=\"fixed\"\r\n\t\t\t:cursorSpacing=\"cursorSpacing\"\r\n\t\t\t:cursor=\"cursor\"\r\n\t\t\t:showConfirmBar=\"showConfirmBar\"\r\n\t\t\t:selectionStart=\"selectionStart\"\r\n\t\t\t:selectionEnd=\"selectionEnd\"\r\n\t\t\t:adjustPosition=\"adjustPosition\"\r\n\t\t\t:disableDefaultPadding=\"disableDefaultPadding\"\r\n\t\t\t:holdKeyboard=\"holdKeyboard\"\r\n\t\t\t:maxlength=\"maxlen\"\r\n\t\t\t:confirmType=\"confirmType\"\r\n\t\t\t:ignoreCompositionEvent=\"ignoreCompositionEvent\"\r\n\t\t\t:confirm-hold=\"confirmHold\"\r\n\t\t\t@focus=\"onFocus\"\r\n\t\t\t@blur=\"onBlur\"\r\n\t\t\t@linechange=\"onLinechange\"\r\n\t\t\t@input=\"onInput\"\r\n\t\t\t@confirm=\"onConfirm\"\r\n\t\t\t@keyboardheightchange=\"onKeyboardheightchange\"></textarea>\r\n\t\t\t<text class=\"uv-textarea__count\"\r\n\t\t\t:style=\"[{\r\n        'background-color': disabled ? 'transparent' : '#fff',\r\n      },$uv.addStyle(countStyle)]\"\r\n\t\t\tv-if=\"count && maxlen!=-1\">{{ getCount }}/{{ maxlen }}</text>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport mpMixin from '../../libs/mixin/mpMixin.js'\r\n\timport mixin from '../../libs/mixin/mixin.js'\r\n\timport props from \"./props.js\";\r\n\t/**\r\n\t * Textarea 文本域\r\n\t * @description 文本域此组件满足了可能出现的表单信息补充，编辑等实际逻辑的功能，内置了字数校验等\r\n\t * @tutorial https://www.uvui.cn/components/textarea.html\r\n\t *\r\n\t * @property {String | Number} \t\tvalue\t/ v-model\t\t\t\t输入框的内容\r\n\t * @property {String | Number}\t\tplaceholder\t\t\t\t输入框为空时占位符\r\n\t * @property {String}\t\t\t    placeholderClass\t\t指定placeholder的样式类，注意页面或组件的style中写了scoped时，需要在类名前写/deep/ （ 默认 'input-placeholder' ）\r\n\t * @property {String | Object}\t    placeholderStyle\t\t指定placeholder的样式，字符串/对象形式，如\"color: red;\"\r\n\t * @property {String | Number}\t\theight\t\t\t\t\t输入框高度（默认 70 ）\r\n\t * @property {String}\t\t\t\tconfirmType\t\t\t\t设置键盘右下角按钮的文字，仅微信小程序，App-vue和H5有效（默认 'done' ）\r\n\t * @property {Boolean}\t\t\t\tdisabled\t\t\t\t是否禁用（默认 false ）\r\n\t * @property {Boolean}\t\t\t\tcount\t\t\t\t\t是否显示统计字数（默认 false ）\r\n\t * @property {Boolean}\t\t\t\tfocus\t\t\t\t\t是否自动获取焦点，nvue不支持，H5取决于浏览器的实现（默认 false ）\r\n\t * @property {Boolean | Function}\tautoHeight\t\t\t\t是否自动增加高度（默认 false ）\r\n\t * @property {Boolean}\t\t\t\tfixed\t\t\t\t\t如果textarea是在一个position:fixed的区域，需要显示指定属性fixed为true（默认 false ）\r\n\t * @property {Number}\t\t\t\tcursorSpacing\t\t\t指定光标与键盘的距离（默认 0 ）\r\n\t * @property {String | Number}\t\tcursor\t\t\t\t\t指定focus时的光标位置\r\n\t * @property {Function}\t\t\t    formatter\t\t\t    内容式化函数\r\n\t * @property {Boolean}\t\t\t\tshowConfirmBar\t\t\t是否显示键盘上方带有”完成“按钮那一栏，（默认 true ）\r\n\t * @property {Number}\t\t\t\tselectionStart\t\t\t光标起始位置，自动聚焦时有效，需与selection-end搭配使用，（默认 -1 ）\r\n\t * @property {Number | Number}\t\tselectionEnd\t\t\t光标结束位置，自动聚焦时有效，需与selection-start搭配使用（默认 -1 ）\r\n\t * @property {Boolean}\t\t\t\tadjustPosition\t\t\t键盘弹起时，是否自动上推页面（默认 true ）\r\n\t * @property {Boolean | Number}\t\tdisableDefaultPadding\t是否去掉 iOS 下的默认内边距，只微信小程序有效（默认 false ）\r\n\t * @property {Boolean}\t\t\t\tholdKeyboard\t\t\tfocus时，点击页面的时候不收起键盘，只微信小程序有效（默认 false ）\r\n\t * @property {String | Number}\t\tmaxlength\t\t\t\t最大输入长度，设置为 -1 的时候不限制最大长度（默认 140 ）\r\n\t * @property {String}\t\t\t\tborder\t\t\t\t\t边框类型，surround-四周边框，none-无边框，bottom-底部边框（默认 'surround' ）\r\n\t * @property {Boolean}\t\t\t\tignoreCompositionEvent\t是否忽略组件内对文本合成系统事件的处理\r\n\t * @property {Boolean} confirmHold 点击键盘右下角按钮时是否保持键盘不收起\r\n\t * @property {Object}\ttextStyle\t文本样式\r\n\t * @property {Object}\tcountStyle\t统计数字的样式\r\n\t *\r\n\t * @event {Function(e)} focus\t\t\t\t\t输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度\r\n\t * @event {Function(e)} blur\t\t\t\t\t输入框失去焦点时触发，event.detail = {value, cursor}\r\n\t * @event {Function(e)} linechange\t\t\t\t输入框行数变化时调用，event.detail = {height: 0, heightRpx: 0, lineCount: 0}\r\n\t * @event {Function(e)} input\t\t\t\t\t当键盘输入时，触发 input 事件\r\n\t * @event {Function(e)} confirm\t\t\t\t\t点击完成时， 触发 confirm 事件\r\n\t * @event {Function(e)} keyboardheightchange\t键盘高度发生变化的时候触发此事件\r\n\t * @example <uv--textarea v-model=\"value1\" placeholder=\"请输入内容\" ></uv--textarea>\r\n\t */\r\n\texport default {\r\n\t\tname: \"uv-textarea\",\r\n\t\tmixins: [mpMixin, mixin, props],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 输入框的值\r\n\t\t\t\tinnerValue: \"\",\r\n\t\t\t\t// 是否处于获得焦点状态\r\n\t\t\t\tfocused: false,\r\n\t\t\t\t// 过滤处理方法\r\n\t\t\t\tinnerFormatter: value => value\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// #ifndef VUE3\r\n\t\t\tthis.innerValue = this.value;\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef VUE3\r\n\t\t\tthis.innerValue = this.modelValue;\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue(newVal) {\r\n\t\t\t\tthis.innerValue = newVal;\r\n\t\t\t},\r\n\t\t\tmodelValue(newVal) {\r\n\t\t\t\tthis.innerValue = newVal;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 组件的类名\r\n\t\t\ttextareaClass() {\r\n\t\t\t\tlet classes = [],\r\n\t\t\t\t\t{ border, disabled } = this;\r\n\t\t\t\tborder === \"surround\" && (classes = classes.concat([\"uv-border\", \"uv-textarea--radius\"]));\r\n\t\t\t\tborder === \"bottom\" && (classes = classes.concat([\"uv-border-bottom\", \"uv-textarea--no-radius\", ]));\r\n\t\t\t\tdisabled && classes.push(\"uv-textarea--disabled\");\r\n\t\t\t\treturn classes.join(\" \");\r\n\t\t\t},\r\n\t\t\t// 组件的样式\r\n\t\t\ttextareaStyle() {\r\n\t\t\t\tconst style = {};\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\t// 由于textarea在安卓nvue上的差异性，需要额外再调整其内边距\r\n\t\t\t\tif (this.$uv.os() === \"android\") {\r\n\t\t\t\t\tstyle.paddingTop = \"6px\";\r\n\t\t\t\t\tstyle.paddingLeft = \"9px\";\r\n\t\t\t\t\tstyle.paddingBottom = \"3px\";\r\n\t\t\t\t\tstyle.paddingRight = \"6px\";\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn this.$uv.deepMerge(style, this.$uv.addStyle(this.customStyle));\r\n\t\t\t},\r\n\t\t\tmaxlen() {\r\n\t\t\t\treturn this.maxlength < 0 ? this.maxlength < 0 ? -1 : 140 : this.maxlength;\r\n\t\t\t},\r\n\t\t\tgetCount() {\r\n\t\t\t\ttry{\r\n\t\t\t\t\treturn this.innerValue.length > this.maxlen ? this.maxlen: this.innerValue.length;\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 在微信小程序中，不支持将函数当做props参数，故只能通过ref形式调用\r\n\t\t\tsetFormatter(e) {\r\n\t\t\t\tthis.innerFormatter = e\r\n\t\t\t},\r\n\t\t\tonFocus(e) {\r\n\t\t\t\tthis.$emit(\"focus\", e);\r\n\t\t\t},\r\n\t\t\tonBlur(e) {\r\n\t\t\t\tthis.$emit(\"blur\", e);\r\n\t\t\t\t// 尝试调用uv-form的验证方法\r\n\t\t\t\tthis.$uv.formValidate(this, \"blur\");\r\n\t\t\t},\r\n\t\t\tonLinechange(e) {\r\n\t\t\t\tthis.$emit(\"linechange\", e);\r\n\t\t\t},\r\n\t\t\tonInput(e) {\r\n\t\t\t\tlet { value = \"\" } = e.detail || {};\r\n\t\t\t\t// 格式化过滤方法\r\n\t\t\t\tconst formatter = this.formatter || this.innerFormatter\r\n\t\t\t\tconst formatValue = formatter(value)\r\n\t\t\t\t// 为了避免props的单向数据流特性，需要先将innerValue值设置为当前值，再在$nextTick中重新赋予设置后的值才有效\r\n\t\t\t\tthis.innerValue = value\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.innerValue = formatValue;\r\n\t\t\t\t\tthis.valueChange();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 内容发生变化，进行处理\r\n\t\t\tvalueChange() {\r\n\t\t\t\tconst value = this.innerValue;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$emit(\"input\", value);\r\n\t\t\t\t\tthis.$emit(\"update:modelValue\", value);\r\n\t\t\t\t\tthis.$emit(\"change\", value);\r\n\t\t\t\t\t// 尝试调用uv-form的验证方法\r\n\t\t\t\t\tthis.$uv.formValidate(this, \"change\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonConfirm(e) {\r\n\t\t\t\tthis.$emit(\"confirm\", e);\r\n\t\t\t},\r\n\t\t\tonKeyboardheightchange(e) {\r\n\t\t\t\tthis.$emit(\"keyboardheightchange\", e);\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t$show-border: 1;\r\n\t$show-border-surround: 1;\r\n\t$show-border-bottom: 1;\r\n\t@import '../../libs/css/variable.scss';\r\n\t@import '../../libs/css/components.scss';\r\n\t@import '../../libs/css/color.scss';\r\n\t.uv-textarea {\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: relative;\r\n\t\t@include flex;\r\n\t\tflex: 1;\r\n\t\tpadding: 9px;\r\n\t\t&--radius {\r\n\t\t\tborder-radius: 4px;\r\n\t\t}\r\n\t\t&--no-radius {\r\n\t\t\tborder-radius: 0;\r\n\t\t}\r\n\t\t&--disabled {\r\n\t\t\tbackground-color: #f5f7fa;\r\n\t\t}\r\n\t\t&__field {\r\n\t\t\tflex: 1;\r\n\t\t\tfont-size: 15px;\r\n\t\t\tcolor: $uv-content-color;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t\t&__count {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 5px;\r\n\t\t\tbottom: 2px;\r\n\t\t\tfont-size: 12px;\r\n\t\t\tcolor: $uv-tips-color;\r\n\t\t\tbackground-color: #ffffff;\r\n\t\t\tpadding: 1px 4px;\r\n\t\t}\r\n\t}\r\n</style>","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/node_modules/@climblee/uv-ui/components/uv-textarea/uv-textarea.vue'\nwx.createComponent(Component)"],"names":["mpMixin","mixin","props"],"mappings":";;AAsFC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,QAAQ,CAACA,cAAAA,SAASC,cAAK,OAAEC,sBAAK;AAAA,EAC9B,OAAO;AACN,WAAO;AAAA;AAAA,MAEN,YAAY;AAAA;AAAA,MAEZ,SAAS;AAAA;AAAA,MAET,gBAAgB,WAAS;AAAA,IAC1B;AAAA,EACA;AAAA,EACD,UAAU;AAKT,SAAK,aAAa,KAAK;AAAA,EAEvB;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ;AACb,WAAK,aAAa;AAAA,IAClB;AAAA,IACD,WAAW,QAAQ;AAClB,WAAK,aAAa;AAAA,IACnB;AAAA,EACA;AAAA,EACD,UAAU;AAAA;AAAA,IAET,gBAAgB;AACf,UAAI,UAAU,CAAE,GACf,EAAE,QAAQ,SAAS,IAAI;AACxB,iBAAW,eAAe,UAAU,QAAQ,OAAO,CAAC,aAAa,qBAAqB,CAAC;AACvF,iBAAW,aAAa,UAAU,QAAQ,OAAO,CAAC,oBAAoB,wBAA2B,CAAA;AACjG,kBAAY,QAAQ,KAAK,uBAAuB;AAChD,aAAO,QAAQ,KAAK,GAAG;AAAA,IACvB;AAAA;AAAA,IAED,gBAAgB;AACf,YAAM,QAAQ,CAAA;AAUd,aAAO,KAAK,IAAI,UAAU,OAAO,KAAK,IAAI,SAAS,KAAK,WAAW,CAAC;AAAA,IACpE;AAAA,IACD,SAAS;AACR,aAAO,KAAK,YAAY,IAAI,KAAK,YAAY,IAAI,KAAK,MAAM,KAAK;AAAA,IACjE;AAAA,IACD,WAAW;AACV,UAAG;AACF,eAAO,KAAK,WAAW,SAAS,KAAK,SAAS,KAAK,SAAQ,KAAK,WAAW;AAAA,MAC3E,SAAM,GAAE;AACR,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,aAAa,GAAG;AACf,WAAK,iBAAiB;AAAA,IACtB;AAAA,IACD,QAAQ,GAAG;AACV,WAAK,MAAM,SAAS,CAAC;AAAA,IACrB;AAAA,IACD,OAAO,GAAG;AACT,WAAK,MAAM,QAAQ,CAAC;AAEpB,WAAK,IAAI,aAAa,MAAM,MAAM;AAAA,IAClC;AAAA,IACD,aAAa,GAAG;AACf,WAAK,MAAM,cAAc,CAAC;AAAA,IAC1B;AAAA,IACD,QAAQ,GAAG;AACV,UAAI,EAAE,QAAQ,GAAG,IAAI,EAAE,UAAU,CAAA;AAEjC,YAAM,YAAY,KAAK,aAAa,KAAK;AACzC,YAAM,cAAc,UAAU,KAAK;AAEnC,WAAK,aAAa;AAClB,WAAK,UAAU,MAAM;AACpB,aAAK,aAAa;AAClB,aAAK,YAAW;AAAA,OAChB;AAAA,IACD;AAAA;AAAA,IAED,cAAc;AACb,YAAM,QAAQ,KAAK;AACnB,WAAK,UAAU,MAAM;AACpB,aAAK,MAAM,SAAS,KAAK;AACzB,aAAK,MAAM,qBAAqB,KAAK;AACrC,aAAK,MAAM,UAAU,KAAK;AAE1B,aAAK,IAAI,aAAa,MAAM,QAAQ;AAAA,MACrC,CAAC;AAAA,IACD;AAAA,IACD,UAAU,GAAG;AACZ,WAAK,MAAM,WAAW,CAAC;AAAA,IACvB;AAAA,IACD,uBAAuB,GAAG;AACzB,WAAK,MAAM,wBAAwB,CAAC;AAAA,IACpC;AAAA,EACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClMH,GAAG,gBAAgB,SAAS;","x_google_ignoreList":[0]}