{"version":3,"file":"uv-switch.js","sources":["../../../../../../../../node_modules/@climblee/uv-ui/components/uv-switch/uv-switch.vue","../../../../../../../../uniComponent:/L1VzZXJzL2d1b3hpYW9taW5nL2NvZGUvcGFwYS1jb2RlL3BtLXluL3VuaWFwcC1zb2NpYWwtc3BvcnRzLW5ldy9ub2RlX21vZHVsZXMvQGNsaW1ibGVlL3V2LXVpL2NvbXBvbmVudHMvdXYtc3dpdGNoL3V2LXN3aXRjaC52dWU"],"sourcesContent":["<template>\r\n\t<view\r\n\t  class=\"uv-switch\"\r\n\t  :class=\"[disabled && 'uv-switch--disabled']\"\r\n\t  :style=\"[switchStyle, $uv.addStyle(customStyle)]\"\r\n\t  @tap=\"clickHandler\"\r\n\t>\r\n\t\t<view\r\n\t\t  class=\"uv-switch__bg\"\r\n\t\t  :style=\"[bgStyle]\"\r\n\t\t>\r\n\t\t</view>\r\n\t\t<view\r\n\t\t  class=\"uv-switch__node\"\r\n\t\t  :class=\"[innerValue && 'uv-switch__node--on']\"\r\n\t\t  :style=\"[nodeStyle]\"\r\n\t\t  ref=\"uv-switch__node\"\r\n\t\t>\r\n\t\t\t<uv-loading-icon\r\n\t\t\t  :show=\"loading\"\r\n\t\t\t  mode=\"circle\"\r\n\t\t\t  timingFunction='linear'\r\n\t\t\t  :color=\"innerValue ? activeColor : '#AAABAD'\"\r\n\t\t\t  :size=\"size * 0.6\"\r\n\t\t\t/>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport mpMixin from '../../libs/mixin/mpMixin.js'\r\n\timport mixin from '../../libs/mixin/mixin.js'\r\n\timport props from './props.js';\r\n\t/**\r\n\t * switch 开关选择器\r\n\t * @description 选择开关一般用于只有两个选择，且只能选其一的场景。\r\n\t * @tutorial https://www.uvui.cn/components/switch.html\r\n\t * @property {Boolean}\t\t\t\t\t\tloading\t\t\t是否处于加载中（默认 false ）\r\n\t * @property {Boolean}\t\t\t\t\t\tdisabled\t\t是否禁用（默认 false ）\r\n\t * @property {String | Number}\t\t\t\tsize\t\t\t开关尺寸，单位px （默认 25 ）\r\n\t * @property {String}\t\t\t\t\t\tactiveColor\t\t打开时的背景色 （默认 '#2979ff' ）\r\n\t * @property {String} \t\t\t\t\t\tinactiveColor\t关闭时的背景色 （默认 '#ffffff' ）\r\n\t * @property {Boolean | String | Number}\tvalue\t\t\t通过v-model双向绑定的值 （默认 false ）\r\n\t * @property {Boolean | String | Number}\tactiveValue\t\t打开选择器时通过change事件发出的值 （默认 true ）\r\n\t * @property {Boolean | String | Number}\tinactiveValue\t关闭选择器时通过change事件发出的值 （默认 false ）\r\n\t * @property {Boolean}\t\t\t\t\t\tasyncChange\t\t是否开启异步变更，开启后需要手动控制输入值 （默认 false ）\r\n\t * @property {String | Number}\t\t\t\tspace\t\t\t圆点与外边框的距离 （默认 0 ）\r\n\t * @property {Object}\t\t\t\t\t\tcustomStyle\t\t定义需要用到的外部样式\r\n\t *\r\n\t * @event {Function} change 在switch打开或关闭时触发\r\n\t * @example <uv-switch v-model=\"checked\" active-color=\"red\" inactive-color=\"#eee\"></uv-switch>\r\n\t */\r\n\texport default {\r\n\t\tname: \"uv-switch\",\r\n\t\tmixins: [mpMixin, mixin, props],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbgColor: '#ffffff',\r\n\t\t\t\tinnerValue: false\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue(newVal) {\r\n\t\t\t\tif (newVal !== this.inactiveValue && newVal !== this.activeValue) {\r\n\t\t\t\t\treturn this.$uv.error('v-model绑定的值必须为inactiveValue、activeValue二者之一')\r\n\t\t\t\t}\r\n\t\t\t\tthis.innerValue = newVal;\r\n\t\t\t},\r\n\t\t\tmodelValue(newVal) {\r\n\t\t\t\tif (newVal !== this.inactiveValue && newVal !== this.activeValue) {\r\n\t\t\t\t\treturn this.$uv.error('v-model绑定的值必须为inactiveValue、activeValue二者之一')\r\n\t\t\t\t}\r\n\t\t\t\tthis.innerValue = newVal;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.innerValue = this.value || this.modelValue;\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tisActive() {\r\n\t\t\t\treturn this.innerValue === this.activeValue;\r\n\t\t\t},\r\n\t\t\tswitchStyle() {\r\n\t\t\t\tlet style = {}\r\n\t\t\t\t// 这里需要加2，是为了腾出边框的距离，否则圆点node会和外边框紧贴在一起\r\n\t\t\t\tstyle.width = this.$uv.addUnit(this.$uv.getPx(this.size) * 2 + 2)\r\n\t\t\t\tstyle.height = this.$uv.addUnit(this.$uv.getPx(this.size) + 2)\r\n\t\t\t\t// 如果自定义了“非激活”演示，name边框颜色设置为透明(跟非激活颜色一致)\r\n\t\t\t\t// 这里不能简单的设置为非激活的颜色，否则打开状态时，会有边框，所以需要透明\r\n\t\t\t\tif (this.customInactiveColor) {\r\n\t\t\t\t\tstyle.borderColor = 'rgba(0, 0, 0, 0)'\r\n\t\t\t\t}\r\n\t\t\t\tstyle.backgroundColor = this.isActive ? this.activeColor : this.inactiveColor\r\n\t\t\t\treturn style;\r\n\t\t\t},\r\n\t\t\tnodeStyle() {\r\n\t\t\t\tlet style = {}\r\n\t\t\t\t// 如果自定义非激活颜色，将node圆点的尺寸减少两个像素，让其与外边框距离更大一点\r\n\t\t\t\tstyle.width = this.$uv.addUnit(this.$uv.getPx(this.size) - this.space)\r\n\t\t\t\tstyle.height = this.$uv.addUnit(this.$uv.getPx(this.size) - this.space)\r\n\t\t\t\tconst translateX = this.isActive ? this.$uv.addUnit(this.space) : this.$uv.addUnit(this.$uv.getPx(this.size));\r\n\t\t\t\tstyle.transform = `translateX(-${translateX})`\r\n\t\t\t\treturn style\r\n\t\t\t},\r\n\t\t\tbgStyle() {\r\n\t\t\t\tlet style = {}\r\n\t\t\t\t// 这里配置一个多余的元素在HTML中，是为了让switch切换时，有更良好的背景色扩充体验(见实际效果)\r\n\t\t\t\tstyle.width = this.$uv.addUnit(this.$uv.getPx(this.size) * 2 - this.$uv.getPx(this.size) / 2)\r\n\t\t\t\tstyle.height = this.$uv.addUnit(this.$uv.getPx(this.size))\r\n\t\t\t\tstyle.backgroundColor = this.inactiveColor\r\n\t\t\t\t// 打开时，让此元素收缩，否则反之\r\n\t\t\t\tstyle.transform = `scale(${this.isActive ? 0 : 1})`\r\n\t\t\t\treturn style\r\n\t\t\t},\r\n\t\t\tcustomInactiveColor() {\r\n\t\t\t\t// 之所以需要判断是否自定义了“非激活”颜色，是为了让node圆点离外边框更宽一点的距离\r\n\t\t\t\treturn this.inactiveColor !== '#fff' && this.inactiveColor !== '#ffffff'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclickHandler() {\r\n\t\t\t\tif (!this.disabled && !this.loading) {\r\n\t\t\t\t\tconst oldValue = this.isActive ? this.inactiveValue : this.activeValue\r\n\t\t\t\t\tif (!this.asyncChange) {\r\n\t\t\t\t\t\tthis.$emit('input', oldValue)\r\n\t\t\t\t\t\tthis.$emit('update:modelValue', oldValue)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 放到下一个生命周期，因为双向绑定的value修改父组件状态需要时间，且是异步的\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.$emit('change', oldValue)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import '../../libs/css/components.scss';\r\n\t.uv-switch {\r\n\t\t@include flex(row);\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tbox-sizing: border-box;\r\n\t\t/* #endif */\r\n\t\tposition: relative;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-width: 1px;\r\n\t\tborder-radius: 100px;\r\n\t\ttransition: background-color 0.4s;\r\n\t\tborder-color: rgba(0, 0, 0, 0.12);\r\n\t\tborder-style: solid;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\t// 由于weex为阿里逗着玩的KPI项目，导致bug奇多，这必须要写这一行，\r\n\t\t// 否则在iOS上，点击页面任意地方，都会触发switch的点击事件\r\n\t\toverflow: hidden;\r\n\t\t&__node {\r\n\t\t\t@include flex(row);\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tborder-radius: 100px;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 100px;\r\n\t\t\tbox-shadow: 1px 1px 1px 0 rgba(0, 0, 0, 0.25);\r\n\t\t\ttransition-property: transform;\r\n\t\t\ttransition-duration: 0.4s;\r\n\t\t\ttransition-timing-function: cubic-bezier(0.3, 1.05, 0.4, 1.05);\r\n\t\t}\r\n\t\t&__bg {\r\n\t\t\tposition: absolute;\r\n\t\t\tborder-radius: 100px;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\ttransition-property: transform;\r\n\t\t\ttransition-duration: 0.4s;\r\n\t\t\tborder-top-left-radius: 0;\r\n\t\t\tborder-bottom-left-radius: 0;\r\n\t\t\ttransition-timing-function: ease;\r\n\t\t}\r\n\t\t&--disabled {\r\n\t\t\topacity: 0.6;\r\n\t\t}\r\n\t}\r\n</style>","import Component from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/node_modules/@climblee/uv-ui/components/uv-switch/uv-switch.vue'\nwx.createComponent(Component)"],"names":["mpMixin","mixin","props"],"mappings":";;AAmDC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,QAAQ,CAACA,cAAAA,SAASC,cAAK,OAAEC,sBAAK;AAAA,EAC9B,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,YAAY;AAAA,IACb;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ;AACb,UAAI,WAAW,KAAK,iBAAiB,WAAW,KAAK,aAAa;AACjE,eAAO,KAAK,IAAI,MAAM,6CAA6C;AAAA,MACpE;AACA,WAAK,aAAa;AAAA,IAClB;AAAA,IACD,WAAW,QAAQ;AAClB,UAAI,WAAW,KAAK,iBAAiB,WAAW,KAAK,aAAa;AACjE,eAAO,KAAK,IAAI,MAAM,6CAA6C;AAAA,MACpE;AACA,WAAK,aAAa;AAAA,IACnB;AAAA,EACA;AAAA,EACD,UAAU;AACT,SAAK,aAAa,KAAK,SAAS,KAAK;AAAA,EACrC;AAAA,EACD,UAAU;AAAA,IACT,WAAW;AACV,aAAO,KAAK,eAAe,KAAK;AAAA,IAChC;AAAA,IACD,cAAc;AACb,UAAI,QAAQ,CAAC;AAEb,YAAM,QAAQ,KAAK,IAAI,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,IAAI,IAAI,CAAC;AAChE,YAAM,SAAS,KAAK,IAAI,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,IAAI,CAAC;AAG7D,UAAI,KAAK,qBAAqB;AAC7B,cAAM,cAAc;AAAA,MACrB;AACA,YAAM,kBAAkB,KAAK,WAAW,KAAK,cAAc,KAAK;AAChE,aAAO;AAAA,IACP;AAAA,IACD,YAAY;AACX,UAAI,QAAQ,CAAC;AAEb,YAAM,QAAQ,KAAK,IAAI,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,IAAI,KAAK,KAAK;AACrE,YAAM,SAAS,KAAK,IAAI,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,IAAI,KAAK,KAAK;AACtE,YAAM,aAAa,KAAK,WAAW,KAAK,IAAI,QAAQ,KAAK,KAAK,IAAI,KAAK,IAAI,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,CAAC;AAC5G,YAAM,YAAY,eAAe,UAAU;AAC3C,aAAO;AAAA,IACP;AAAA,IACD,UAAU;AACT,UAAI,QAAQ,CAAC;AAEb,YAAM,QAAQ,KAAK,IAAI,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,MAAM,KAAK,IAAI,IAAI,CAAC;AAC5F,YAAM,SAAS,KAAK,IAAI,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,CAAC;AACzD,YAAM,kBAAkB,KAAK;AAE7B,YAAM,YAAY,SAAS,KAAK,WAAW,IAAI,CAAC;AAChD,aAAO;AAAA,IACP;AAAA,IACD,sBAAsB;AAErB,aAAO,KAAK,kBAAkB,UAAU,KAAK,kBAAkB;AAAA,IAChE;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,eAAe;AACd,UAAI,CAAC,KAAK,YAAY,CAAC,KAAK,SAAS;AACpC,cAAM,WAAW,KAAK,WAAW,KAAK,gBAAgB,KAAK;AAC3D,YAAI,CAAC,KAAK,aAAa;AACtB,eAAK,MAAM,SAAS,QAAQ;AAC5B,eAAK,MAAM,qBAAqB,QAAQ;AAAA,QACzC;AAEA,aAAK,UAAU,MAAM;AACpB,eAAK,MAAM,UAAU,QAAQ;AAAA,SAC7B;AAAA,MACF;AAAA,IACD;AAAA,EACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnIF,GAAG,gBAAgB,SAAS;","x_google_ignoreList":[0]}