{"version":3,"file":"index.js","sources":["../../../../../src/pages-sub/selectActivitySite/index.vue","../../../../../uniPage:/cGFnZXMtc3ViL3NlbGVjdEFjdGl2aXR5U2l0ZS9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"bg-white\">\n    <view>\n      <view class=\"recommend-container\">\n        <view class=\"recommend-title\">已选择1个站点</view>\n        <view v-for=\"(item, index) in selected\" :key=\"index\" class=\"tab\">\n          <uv-tags\n            :text=\"getTabText(item)\"\n            plain\n            size=\"mini\"\n            :color=\"activeColor\"\n            :borderColor=\"activeColor\"\n          ></uv-tags>\n        </view>\n      </view>\n      <view class=\"search\">\n        <uv-search\n          placeholder=\"搜索站点\"\n          v-model=\"keyword\"\n          bgColor=\"#F7F9FC\"\n          :showAction=\"false\"\n          @change=\"search\"\n        ></uv-search>\n      </view>\n      <view class=\"list-container\">\n        <uv-list>\n          <uv-list-item v-for=\"(item, index) in tempList\" :key=\"index\">\n            <uv-cell :title=\"item.label\" @click=\"handleSelect(item)\">\n              <template #right-icon>\n                <uv-icon\n                  name=\"checkbox-mark\"\n                  :color=\"activeColor\"\n                  size=\"20\"\n                  v-if=\"isSelected(item.id)\"\n                ></uv-icon>\n              </template>\n            </uv-cell>\n          </uv-list-item>\n        </uv-list>\n      </view>\n    </view>\n    <view class=\"footer-fixed flex\">\n      <view class=\"flex-1\">\n        <uv-button\n          class=\"logout-btn mr-2\"\n          type=\"primary\"\n          :plain=\"true\"\n          shape=\"circle\"\n          size=\"medium\"\n          @click=\"cancel\"\n        >\n          取消\n        </uv-button>\n      </view>\n      <view class=\"flex-1\">\n        <uv-button\n          class=\"logout-btn mr-2\"\n          type=\"primary\"\n          shape=\"circle\"\n          size=\"medium\"\n          @click=\"confirm\"\n        >\n          确定\n        </uv-button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  components: {},\n  data() {\n    return {\n      selected: [],\n      close: true,\n      keyword: '',\n      dataList: [],\n      tempList: [],\n      result: [],\n    }\n  },\n  computed: {\n    themeConfig() {\n      return this.$store.app.themeConfig\n    },\n    activeColor() {\n      return this.$store.app.themeConfig['--hubei-primary']\n    },\n  },\n  created() {\n    this.getData()\n  },\n  onLoad() {\n    const eventChannel = this.getOpenerEventChannel()\n    this.eventChannel = eventChannel\n    eventChannel.on('PUBLISH_SELECT_SITE', (data) => {\n      if (data.tagIds) {\n        this.selected = data.tagIds.split(',')\n      }\n    })\n  },\n  methods: {\n    confirm() {\n      let result = this.dataList.filter((item) => {\n        return this.selected.some((dItem) => dItem == item.id)\n      })\n      let tagObj = {\n        tagIds: this.selected.toString(),\n        tagIdsStr: result\n          .map((item) => {\n            return item.label\n          })\n          .toString(),\n      }\n      uni.$emit('PUBLISH_SELECT_SITE', tagObj)\n      uni.navigateBack()\n    },\n    cancel() {\n      uni.navigateBack()\n    },\n    search() {\n      const keyWord = this.keyword\n      if (keyWord == '') {\n        this.tempList = this.dataList\n      } else {\n        this.tempList = this.dataList.filter((item) => item.label.includes(keyWord))\n      }\n    },\n    getTabText(value) {\n      return this.$dict.getDictLabel(this.dataList, value, { valueKey: 'id' })\n    },\n    handleSelect(item) {\n      this.selected = [item.id]\n    },\n    isSelected(value) {\n      return this.selected.filter((item) => value == item).length > 0\n    },\n    async getData() {\n      let res = await this.$api.getInstructorSiteList({ page: 1, size: 999, status: 2 })\n      const tagGroup = res.data.list.map((e) => {\n        return {\n          name: e.name,\n          label: e.name,\n          instructor_site_id: e.instructor_site_id,\n          id: e.instructor_site_id,\n        }\n      })\n      this.dataList = tagGroup\n      this.tempList = tagGroup\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.bg-white {\n  min-height: 100vh;\n  background-color: #fff;\n}\n.z-paging-content {\n  padding-bottom: 140rpx;\n  background-color: #fff;\n}\n.recommend-container {\n  padding: 48rpx 32rpx;\n  font-size: 28rpx;\n  .tab {\n    display: inline-block;\n  }\n  .recommend-title {\n    //color: #909399;\n    font-weight: bold;\n    margin-bottom: 24rpx;\n  }\n  .recommend-list {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-auto-flow: dense;\n    grid-row-gap: 12rpx;\n    grid-column-gap: 24rpx;\n    .recommend-item {\n      padding: 6rpx 32rpx;\n      border-radius: 60rpx;\n      border: 1px solid $hubei-primary;\n      color: $hubei-primary;\n    }\n  }\n}\n.search {\n  padding: 0 32rpx;\n  margin-bottom: 32rpx;\n}\n\n.sticky {\n  top: -1px !important;\n}\n.list-container {\n  padding-bottom: 250rpx;\n}\n.footer-fixed {\n  gap: 20rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/selectActivitySite/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsEA,MAAA,YAAA;AAAA,EACA,YAAA,CAAA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,UAAA,CAAA;AAAA,MACA,OAAA;AAAA,MACA,SAAA;AAAA,MACA,UAAA,CAAA;AAAA,MACA,UAAA,CAAA;AAAA,MACA,QAAA,CAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AAAA,IACA,cAAA;AACA,aAAA,KAAA,OAAA,IAAA;AAAA,IACA;AAAA,IACA,cAAA;AACA,aAAA,KAAA,OAAA,IAAA,YAAA,iBAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AACA,SAAA,QAAA;AAAA,EACA;AAAA,EACA,SAAA;AACA,UAAA,eAAA,KAAA,sBAAA;AACA,SAAA,eAAA;AACA,iBAAA,GAAA,uBAAA,CAAA,SAAA;AACA,UAAA,KAAA,QAAA;AACA,aAAA,WAAA,KAAA,OAAA,MAAA,GAAA;AAAA,MACA;AAAA,IACA,CAAA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,UAAA;AACA,UAAA,SAAA,KAAA,SAAA,OAAA,CAAA,SAAA;AACA,eAAA,KAAA,SAAA,KAAA,CAAA,UAAA,SAAA,KAAA,EAAA;AAAA,MACA,CAAA;AACA,UAAA,SAAA;AAAA,QACA,QAAA,KAAA,SAAA,SAAA;AAAA,QACA,WAAA,OACA,IAAA,CAAA,SAAA;AACA,iBAAA,KAAA;AAAA,QACA,CAAA,EACA,SAAA;AAAA,MACA;AACAA,0BAAA,MAAA,uBAAA,MAAA;AACAA,oBAAAA,MAAA,aAAA;AAAA,IACA;AAAA,IACA,SAAA;AACAA,oBAAAA,MAAA,aAAA;AAAA,IACA;AAAA,IACA,SAAA;AACA,YAAA,UAAA,KAAA;AACA,UAAA,WAAA,IAAA;AACA,aAAA,WAAA,KAAA;AAAA,aACA;AACA,aAAA,WAAA,KAAA,SAAA,OAAA,CAAA,SAAA,KAAA,MAAA,SAAA,OAAA,CAAA;AAAA,MACA;AAAA,IACA;AAAA,IACA,WAAA,OAAA;AACA,aAAA,KAAA,MAAA,aAAA,KAAA,UAAA,OAAA,EAAA,UAAA,KAAA,CAAA;AAAA,IACA;AAAA,IACA,aAAA,MAAA;AACA,WAAA,WAAA,CAAA,KAAA,EAAA;AAAA,IACA;AAAA,IACA,WAAA,OAAA;AACA,aAAA,KAAA,SAAA,OAAA,CAAA,SAAA,SAAA,IAAA,EAAA,SAAA;AAAA,IACA;AAAA,IACA,UAAA;AAAA;AACA,YAAA,MAAA,MAAA,KAAA,KAAA,sBAAA,EAAA,MAAA,GAAA,MAAA,KAAA,QAAA,EAAA,CAAA;AACA,cAAA,WAAA,IAAA,KAAA,KAAA,IAAA,CAAA,MAAA;AACA,iBAAA;AAAA,YACA,MAAA,EAAA;AAAA,YACA,OAAA,EAAA;AAAA,YACA,oBAAA,EAAA;AAAA,YACA,IAAA,EAAA;AAAA,UACA;AAAA,QACA,CAAA;AACA,aAAA,WAAA;AACA,aAAA,WAAA;AAAA,MACA;AAAA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvJA,GAAG,WAAW,eAAe;"}