{"version":3,"file":"index.js","sources":["../../../../../src/pages-sub/notice/index.vue","../../../../../uniPage:/cGFnZXMtc3ViL25vdGljZS9pbmRleC52dWU"],"sourcesContent":["<template>\n  <z-paging\n    ref=\"pagingRef\"\n    auto-height\n    v-model=\"dataList\"\n    @query=\"queryList\"\n    @scroll=\"pageScroll\"\n    empty-view-text=\"暂无数据\"\n    empty-view-img=\"/static/images/empty.png\"\n    :empty-view-img-style=\"{ width: '160px', height: '160px' }\"\n  >\n    <img :src=\"noticeBg\" class=\"notice_bg\" />\n    <view class=\"content_container\">\n      <view class=\"item\" v-for=\"(item, index) in dataList\" :key=\"index\" @click=\"handleClick(item)\">\n        <img v-if=\"item.show_img\" :src=\"item.show_img\" class=\"left_bg\" />\n        <view class=\"right\">\n          <view class=\"title\">{{ item.name }}</view>\n          <view class=\"time\">{{ item.c_time }}</view>\n        </view>\n      </view>\n    </view>\n    <paBackToTop :scroll-top=\"scrollTop\" @click=\"backToTop\" />\n  </z-paging>\n</template>\n\n<script>\nimport shareMixins from '@/mixins/shareMixins'\nimport noticeBg from '@/static/images/notice_bg.png'\nimport { getWxNoticeList } from '@/apis/home/index'\n\nexport default {\n  mixins: [shareMixins],\n  components: {},\n  data() {\n    return {\n      noticeBg,\n      dataList: [],\n      scrollTop: 0,\n    }\n  },\n  created() {},\n\n  methods: {\n    //返回顶部\n    backToTop() {\n      this.$refs.pagingRef?.scrollToTop()\n    },\n    pageScroll(event) {\n      let scrollTop = event.detail.scrollTop\n      this.scrollTop = scrollTop\n    },\n    async queryList(pageNo, pageSize) {\n      console.log('[ pageNo ] >', pageNo)\n      console.log('[ pageSize ] >', pageSize)\n      let params = {\n        page: pageNo,\n        size: pageSize,\n        mp_type: 'socialSports',\n      }\n      let res = await getWxNoticeList(params)\n      console.log('[ res ] >', res)\n      if (res.code == 200) {\n        let list = res.data.list.map((e) => {\n          e.show_img = ''\n          if (e.images_url && e.images_url.length > 0) {\n            e.show_img = e.images_url[0]\n          }\n          return e\n        })\n        this.$refs.pagingRef?.complete(list)\n      }\n    },\n    handleClick(item) {\n      let { url, notice_id } = item\n      if (url) {\n        uni.navigateTo({\n          url: `/pages-sub/webview/index?url=${encodeURIComponent(url)}`,\n        })\n        return\n      }\n      uni.navigateTo({\n        url: `/pages-sub/notice/detail?notice_id=${notice_id}`,\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\npage {\n  background-color: #fff;\n  min-height: 100vh;\n}\n.sticky {\n  top: -1px !important;\n}\n\n.notice_bg {\n  display: block;\n  width: 100%;\n  height: 280rpx;\n}\n\n.content_container {\n  background-color: #fff;\n  padding: 40rpx 32rpx;\n  box-sizing: border-box;\n  border-radius: 40rpx 40rpx 0 0;\n  transform: translateY(-40rpx);\n  .item {\n    display: flex;\n    padding: 32rpx 0;\n    border-bottom: 1rpx solid rgba(235, 237, 240, 1);\n    .left_bg {\n      flex-shrink: 0;\n      display: block;\n      width: 180rpx;\n      height: 120rpx;\n      opacity: 1;\n      border-radius: 16rpx;\n    }\n    .right {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      padding-left: 24rpx;\n      .title {\n        font-size: 28rpx;\n        font-weight: 500;\n        line-height: 39rpx;\n        color: rgba(50, 50, 51, 1);\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-line-clamp: 2; /* 设置最大显示行数 */\n        -webkit-box-orient: vertical;\n        text-overflow: ellipsis;\n      }\n      .time {\n        font-size: 24rpx;\n        font-weight: 400;\n        line-height: 32rpx;\n        color: rgba(200, 201, 204, 1);\n      }\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/notice/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["shareMixins","noticeBg","getWxNoticeList","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,MAAA,YAAA;AAAA,EACA,QAAA,CAAAA,mBAAAA,WAAA;AAAA,EACA,YAAA,CAAA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,UAAAC,cAAA;AAAA,MACA,UAAA,CAAA;AAAA,MACA,WAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AAAA,EAAA;AAAA,EAEA,SAAA;AAAA;AAAA,IAEA,YAAA;;AACA,iBAAA,MAAA,cAAA,mBAAA;AAAA,IACA;AAAA,IACA,WAAA,OAAA;AACA,UAAA,YAAA,MAAA,OAAA;AACA,WAAA,YAAA;AAAA,IACA;AAAA,IACA,UAAA,QAAA,UAAA;AAAA;;AACA,gBAAA,IAAA,gBAAA,MAAA;AACA,gBAAA,IAAA,kBAAA,QAAA;AACA,YAAA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA,UACA,SAAA;AAAA,QACA;AACA,YAAA,MAAA,MAAAC,gBAAAA,gBAAA,MAAA;AACA,gBAAA,IAAA,aAAA,GAAA;AACA,YAAA,IAAA,QAAA,KAAA;AACA,cAAA,OAAA,IAAA,KAAA,KAAA,IAAA,CAAA,MAAA;AACA,cAAA,WAAA;AACA,gBAAA,EAAA,cAAA,EAAA,WAAA,SAAA,GAAA;AACA,gBAAA,WAAA,EAAA,WAAA,CAAA;AAAA,YACA;AACA,mBAAA;AAAA,UACA,CAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA;AAAA,QACA;AAAA,MACA;AAAA;AAAA,IACA,YAAA,MAAA;AACA,UAAA,EAAA,KAAA,cAAA;AACA,UAAA,KAAA;AACAC,sBAAAA,MAAA,WAAA;AAAA,UACA,KAAA,gCAAA,mBAAA,GAAA,CAAA;AAAA,QACA,CAAA;AACA;AAAA,MACA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,sCAAA,SAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFA,GAAG,WAAW,eAAe;"}