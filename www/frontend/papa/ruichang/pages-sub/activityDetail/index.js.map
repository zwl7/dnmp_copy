{"version":3,"file":"index.js","sources":["../../../../../src/pages-sub/activityDetail/index.vue","../../../../../uniPage:/cGFnZXMtc3ViL2FjdGl2aXR5RGV0YWlsL2luZGV4LnZ1ZQ"],"sourcesContent":["<route lang=\"json5\" type=\"page\">\n{\n  style: {\n    navigationBarTitleText: '活动详情',\n    navigationStyle: 'custom',\n  },\n}\n</route>\n<template>\n  <view class=\"activity-detail-container overflow-auto\">\n    <ActivityItem :item=\"item\" :type=\"type\" @updateVoluntary=\"getUpdate\" :show-comment=\"true\" />\n    <view class=\"praise-container\" v-if=\"item.love > 0\">\n      <view class=\"mr-12rpx\"><uv-icon :name=\"likeIcon\" size=\"20\"></uv-icon></view>\n      <view class=\"avatar-wrap\">\n        <view v-for=\"likeItem in images\" :key=\"likeItem\">\n          <uv-avatar\n            v-if=\"likeItem.avatar\"\n            :src=\"likeItem.avatar\"\n            alt=\"头像\"\n            mode=\"aspectFill\"\n          ></uv-avatar>\n          <uv-avatar\n            v-else\n            :text=\"(likeItem.name || '').substr(2, 5)\"\n            fontSize=\"13\"\n            bg-color=\"rgb(114, 220, 220)\"\n          ></uv-avatar>\n        </view>\n      </view>\n      <view v-if=\"item.love > 5\" class=\"praise-text\">等{{ item.love }}人点赞</view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport ActivityItem from '@/components/ActivityItem/index.vue'\nimport uniStorage from '@/utils/storages/uniStorage'\nexport default {\n  components: { ActivityItem },\n\n  data() {\n    return {\n      type: 4,\n      voluntary_activity_id: '',\n      item: {},\n      images: [],\n    }\n  },\n  computed: {\n    likeIcon() {\n      return this.$store.app.themeIconMapData['LIKE_ICON']\n    },\n  },\n  onLoad(options) {\n    this.voluntary_activity_id = options.voluntary_activity_id\n    this.getDetail(this.voluntary_activity_id)\n  },\n  methods: {\n    getUpdate(item) {\n      this.getDetail(item.voluntary_activity_id)\n    },\n    async getDetail(id) {\n      let res = await this.$api.getVoluntaryActivityItem({ voluntary_activity_id: id })\n      if (res.code == 200) {\n        let item = res.data\n        let formatObj = {\n          addressFormat: item.province_str + item.county_str + item.city_str + item.address,\n          startTime: this.$dayjs(item.c_time * 1000).format('YYYY-MM-DD HH:mm:ss'),\n        }\n        this.item = { ...item, ...formatObj }\n        this.images = (this.item.like_members || []).map((likeItem) => {\n          return { avatar: likeItem.avatar, name: likeItem.name }\n        })\n      } else {\n        this.$toast(res.message)\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.activity-detail-container {\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n\n  .praise-container {\n    position: relative;\n    top: -20rpx;\n    display: flex;\n    align-items: center;\n    padding: 20rpx 5rpx;\n    margin: 0 32rpx;\n    background-color: $hubei-primary-light;\n    border-radius: 16rpx;\n\n    .avatar-wrap {\n      display: grid;\n      grid-template-columns: repeat(5, 1fr);\n      grid-gap: 5rpx;\n      margin-left: 5rpx;\n\n      image {\n        width: 64rpx;\n        height: 64rpx;\n        border-radius: 50%;\n      }\n    }\n    .praise-text {\n      font-size: 13px;\n      font-weight: 400;\n      letter-spacing: -0.01px;\n      line-height: 20px;\n      color: rgba(144, 147, 153, 1);\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/activityDetail/index.vue'\nwx.createPage(MiniProgramPage)"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,MAAA,eAAA,MAAA;AAEA,MAAA,YAAA;AAAA,EACA,YAAA,EAAA,aAAA;AAAA,EAEA,OAAA;AACA,WAAA;AAAA,MACA,MAAA;AAAA,MACA,uBAAA;AAAA,MACA,MAAA,CAAA;AAAA,MACA,QAAA,CAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AAAA,IACA,WAAA;AACA,aAAA,KAAA,OAAA,IAAA,iBAAA,WAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA,SAAA;AACA,SAAA,wBAAA,QAAA;AACA,SAAA,UAAA,KAAA,qBAAA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,UAAA,MAAA;AACA,WAAA,UAAA,KAAA,qBAAA;AAAA,IACA;AAAA,IACA,UAAA,IAAA;AAAA;AACA,YAAA,MAAA,MAAA,KAAA,KAAA,yBAAA,EAAA,uBAAA,GAAA,CAAA;AACA,YAAA,IAAA,QAAA,KAAA;AACA,cAAA,OAAA,IAAA;AACA,cAAA,YAAA;AAAA,YACA,eAAA,KAAA,eAAA,KAAA,aAAA,KAAA,WAAA,KAAA;AAAA,YACA,WAAA,KAAA,OAAA,KAAA,SAAA,GAAA,EAAA,OAAA,qBAAA;AAAA,UACA;AACA,eAAA,OAAA,kCAAA,OAAA;AACA,eAAA,UAAA,KAAA,KAAA,gBAAA,CAAA,GAAA,IAAA,CAAA,aAAA;AACA,mBAAA,EAAA,QAAA,SAAA,QAAA,MAAA,SAAA,KAAA;AAAA,UACA,CAAA;AAAA,eACA;AACA,eAAA,OAAA,IAAA,OAAA;AAAA,QACA;AAAA,MACA;AAAA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EA,GAAG,WAAW,eAAe;"}