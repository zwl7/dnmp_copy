{"version":3,"file":"index.js","sources":["../../../../../src/pages-sub/starRatingRecord/index.vue","../../../../../uniPage:/cGFnZXMtc3ViL3N0YXJSYXRpbmdSZWNvcmQvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <z-paging\n    ref=\"pagingRef\"\n    v-model=\"dataList\"\n    @query=\"queryList\"\n    empty-view-text=\"暂无内容\"\n    empty-view-img=\"/static/images/empty.png\"\n    :empty-view-img-style=\"{ width: '160px', height: '160px' }\"\n  >\n    <view class=\"container\">\n      <time-line-card v-for=\"(item, index) in dataList\" :key=\"index\" :title=\"item.date\">\n        <rating-card :data=\"item\" />\n      </time-line-card>\n    </view>\n  </z-paging>\n</template>\n\n<script>\nimport TimeLineCard from '@/components/TimeLineCard/index.vue'\nimport RatingCard from './components/RatingCard.vue'\nimport { getWxInstructorStarList } from '@/apis/home/index'\n\nexport default {\n  name: 'StarRatingRecord',\n  components: {\n    TimeLineCard,\n    RatingCard,\n  },\n  data() {\n    return {\n      dataList: [\n        // {\n        //   date: '2024/11/8',\n        //   afterLevel: 1,\n        //   originalLevel: 2,\n        //   score: 66,\n        //   reason: '',\n        // },\n      ],\n      dateList: [],\n    }\n  },\n  onShow() {},\n  methods: {\n    async queryList(pageNo, pageSize) {\n      console.log('[ pageNo ] >', pageNo)\n      console.log('[ pageSize ] >', pageSize)\n      let params = {\n        page: pageNo,\n        size: pageSize,\n        is_self: 1,\n      }\n      let res = await getWxInstructorStarList(params)\n      if (res.code !== 200) {\n        this.$toast(res.message)\n        this.$refs.pagingRef?.complete([])\n        return\n      }\n      if (res.code == 200) {\n        let dealData = res.data.list.map((item) => {\n          let date = item.c_time ? this.$dayjs(item.c_time).format('YYYY/MM/DD') : ''\n          let isPush = false\n          if (this.dateList.indexOf(date) === -1) {\n            this.dateList.push(date)\n            isPush = true\n          }\n          let formatObj = {\n            date: isPush ? date : '',\n            afterLevel: item.new_star,\n            originalLevel: item.old_star,\n            score: item.score > 100 ? '100+' : item.score,\n            reason: item.reason,\n          }\n          return {\n            ...formatObj,\n          }\n        })\n        this.dataList = dealData\n        this.$refs.pagingRef?.complete(dealData)\n      }\n    },\n    change1() {},\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding: 0 32rpx;\n  box-sizing: border-box;\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/starRatingRecord/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getWxInstructorStarList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,MAAA,eAAA,MAAA;AACA,mBAAA,MAAA;AAGA,MAAA,YAAA;AAAA,EACA,MAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,UAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQA;AAAA,MACA,UAAA,CAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,EAAA;AAAA,EACA,SAAA;AAAA,IACA,UAAA,QAAA,UAAA;AAAA;;AACA,gBAAA,IAAA,gBAAA,MAAA;AACA,gBAAA,IAAA,kBAAA,QAAA;AACA,YAAA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA,UACA,SAAA;AAAA,QACA;AACA,YAAA,MAAA,MAAAA,gBAAAA,wBAAA,MAAA;AACA,YAAA,IAAA,SAAA,KAAA;AACA,eAAA,OAAA,IAAA,OAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA,CAAA;AACA;AAAA,QACA;AACA,YAAA,IAAA,QAAA,KAAA;AACA,cAAA,WAAA,IAAA,KAAA,KAAA,IAAA,CAAA,SAAA;AACA,gBAAA,OAAA,KAAA,SAAA,KAAA,OAAA,KAAA,MAAA,EAAA,OAAA,YAAA,IAAA;AACA,gBAAA,SAAA;AACA,gBAAA,KAAA,SAAA,QAAA,IAAA,MAAA,IAAA;AACA,mBAAA,SAAA,KAAA,IAAA;AACA,uBAAA;AAAA,YACA;AACA,gBAAA,YAAA;AAAA,cACA,MAAA,SAAA,OAAA;AAAA,cACA,YAAA,KAAA;AAAA,cACA,eAAA,KAAA;AAAA,cACA,OAAA,KAAA,QAAA,MAAA,SAAA,KAAA;AAAA,cACA,QAAA,KAAA;AAAA,YACA;AACA,mBAAA,mBACA;AAAA,UAEA,CAAA;AACA,eAAA,WAAA;AACA,qBAAA,MAAA,cAAA,mBAAA,SAAA;AAAA,QACA;AAAA,MACA;AAAA;AAAA,IACA,UAAA;AAAA,IAAA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA,GAAG,WAAW,eAAe;"}