{"version":3,"file":"index.js","sources":["../../../../../src/pages-sub/instructorSite/index.vue","../../../../../uniPage:/cGFnZXMtc3ViL2luc3RydWN0b3JTaXRlL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <div>\n    <z-paging\n      ref=\"pagingRef\"\n      v-model=\"dataList\"\n      @query=\"queryList\"\n      :loading-more-custom-style=\"{ 'padding-bottom': '200rpx' }\"\n      @scroll=\"pageScroll\"\n    >\n      <view class=\"nav-bar-container\">\n        <navBar\n          title=\"站点\"\n          :showBack=\"true\"\n          :fixed=\"false\"\n          :navColor=\"navColor\"\n          :titleColor=\"titleColor\"\n        />\n      </view>\n      <image\n        src=\"https://cdn-static.papa.com.cn/social/themeStatic/SkyBlue/instruct_site_header_top.png\"\n        class=\"header-top\"\n        mode=\"widthFix\"\n      />\n      <uv-sticky class=\"sticky\">\n        <view class=\"sticky-container\">\n          <view class=\"input-container\">\n            <listSearch\n              :show=\"true\"\n              :disabled=\"false\"\n              @confirm=\"listHandleConfirm\"\n              @clear=\"listHandleClear\"\n              @map=\"handleMap\"\n            />\n          </view>\n          <instructorDropDown @search=\"search\" ref=\"homeDropDownRef\" />\n        </view>\n      </uv-sticky>\n      <view class=\"main-box\">\n        <view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"pb-32rpx\">\n          <instructorSiteItem\n            :info=\"item\"\n            @toDetail=\"toDetail\"\n            :show-join=\"false\"\n            :page-show-quit=\"false\"\n          />\n        </view>\n        <view v-if=\"dataList.length == 0\" style=\"min-height: 100vh\">\n          <empty></empty>\n        </view>\n      </view>\n      <template #empty></template>\n      <paBackToTop :scroll-top=\"scrollTop\" @click=\"backToTop\" />\n    </z-paging>\n  </div>\n</template>\n\n<script>\nimport shareMixins from '@/mixins/shareMixins'\nimport listSearch from '@/components/SearchComponent/listSearch.vue'\nimport instructorSiteItem from './components/InstructorSiteItem.vue'\nimport instructorDropDown from './components/instructorDropDown.vue'\nimport navBar from '@/components/navBar/index.vue'\nexport default {\n  mixins: [shareMixins],\n  components: {\n    instructorSiteItem,\n    listSearch,\n    instructorDropDown,\n    navBar,\n  },\n  data() {\n    return {\n      area: '',\n      list: [],\n      urls: [],\n      dataList: [],\n      areaGroupList: [\n        [\n          {\n            text: '全部区域',\n            value: 0,\n          },\n        ],\n      ],\n      tempDataObj: {},\n      searchObj: {},\n      searchContent: '',\n      navBarHeight: 0,\n      navColor: 'transparent',\n      titleColor: '#333',\n      customStyle: {\n        backgroundColor: 'transparent',\n      },\n      scrollTop: 0,\n    }\n  },\n  onLoad(options) {\n    this.queryList(1, 10)\n  },\n  methods: {\n    pageScroll(event) {\n      let scrollTop = event.detail.scrollTop\n      if (scrollTop > 100) {\n        this.navColor = '#fff'\n        this.titleColor = '#333'\n      } else {\n        this.navColor = 'transparent'\n        this.titleColor = '#333'\n      }\n      this.scrollTop = scrollTop\n    },\n    //返回顶部\n    backToTop() {\n      this.$refs.pagingRef?.scrollToTop()\n    },\n    handleMap() {\n      if (this.$store.app.themeType == 'SkyBlue') {\n        uni.navigateTo({\n          url: '/pages/instructorSite/index',\n        })\n        return\n      }\n      uni.switchTab({ url: '/pages/tabbar/commonPage/index' })\n    },\n    toDetail(info) {\n      uni.navigateTo({\n        url: '/pages-sub/instructorSite/detail?instructor_site_id=' + info.instructor_site_id,\n      })\n    },\n    listHandleConfirm(data) {\n      this.searchContent = data\n      this.queryList(1, 10)\n    },\n    listHandleClear() {\n      this.searchContent = ''\n      this.queryList(1, 10)\n    },\n    search(data) {\n      this.searchObj = data\n      this.queryList(1, 10)\n    },\n\n    async queryList(pageNo, pageSize) {\n      let resAreaGroupList = this.tempDataObj.areaGroupList\n      let params = {\n        page: pageNo,\n        size: pageSize,\n        name: this.searchContent,\n        sort_type: 'service_time_desc',\n        ...this.searchObj,\n      }\n      let res = await this.$api.getInstructorSiteList(params)\n      if (res.code !== 200) {\n        this.$toast(res.message)\n        return\n      }\n      this.$refs.pagingRef?.complete(res.data.list)\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\nswiper {\n  height: 442rpx;\n}\n\n.sticky {\n  top: -1px !important;\n}\n.sticky-container {\n  background-color: #fff;\n  padding-top: 16rpx;\n}\n.main-box {\n  padding: 32rpx;\n  box-sizing: border-box;\n}\n.input-container {\n  margin-bottom: 16rpx;\n}\n.nav-bar-container {\n  width: 100%;\n}\n.header-top {\n  // position: absolute;\n  // top: 0;\n  // left: 0;\n  display: block;\n  width: 100%;\n  height: 284rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/guoxiaoming/code/papa-code/pm-yn/uniapp-social-sports-new/src/pages-sub/instructorSite/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["shareMixins","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,MAAA,aAAA,MAAA;AACA,MAAA,qBAAA,MAAA;AACA,MAAA,qBAAA,MAAA;AACA,eAAA,MAAA;AACA,MAAA,YAAA;AAAA,EACA,QAAA,CAAAA,mBAAAA,WAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,MAAA;AAAA,MACA,MAAA,CAAA;AAAA,MACA,MAAA,CAAA;AAAA,MACA,UAAA,CAAA;AAAA,MACA,eAAA;AAAA,QACA;AAAA,UACA;AAAA,YACA,MAAA;AAAA,YACA,OAAA;AAAA,UACA;AAAA,QACA;AAAA,MACA;AAAA,MACA,aAAA,CAAA;AAAA,MACA,WAAA,CAAA;AAAA,MACA,eAAA;AAAA,MACA,cAAA;AAAA,MACA,UAAA;AAAA,MACA,YAAA;AAAA,MACA,aAAA;AAAA,QACA,iBAAA;AAAA,MACA;AAAA,MACA,WAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA,SAAA;AACA,SAAA,UAAA,GAAA,EAAA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,WAAA,OAAA;AACA,UAAA,YAAA,MAAA,OAAA;AACA,UAAA,YAAA,KAAA;AACA,aAAA,WAAA;AACA,aAAA,aAAA;AAAA,aACA;AACA,aAAA,WAAA;AACA,aAAA,aAAA;AAAA,MACA;AACA,WAAA,YAAA;AAAA,IACA;AAAA;AAAA,IAEA,YAAA;;AACA,iBAAA,MAAA,cAAA,mBAAA;AAAA,IACA;AAAA,IACA,YAAA;AACA,UAAA,KAAA,OAAA,IAAA,aAAA,WAAA;AACAC,sBAAAA,MAAA,WAAA;AAAA,UACA,KAAA;AAAA,QACA,CAAA;AACA;AAAA,MACA;AACAA,oBAAAA,MAAA,UAAA,EAAA,KAAA,iCAAA,CAAA;AAAA,IACA;AAAA,IACA,SAAA,MAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,yDAAA,KAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA,IACA,kBAAA,MAAA;AACA,WAAA,gBAAA;AACA,WAAA,UAAA,GAAA,EAAA;AAAA,IACA;AAAA,IACA,kBAAA;AACA,WAAA,gBAAA;AACA,WAAA,UAAA,GAAA,EAAA;AAAA,IACA;AAAA,IACA,OAAA,MAAA;AACA,WAAA,YAAA;AACA,WAAA,UAAA,GAAA,EAAA;AAAA,IACA;AAAA,IAEA,UAAA,QAAA,UAAA;AAAA;;AACA,aAAA,YAAA;AACA,YAAA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA,UACA,MAAA,KAAA;AAAA,UACA,WAAA;AAAA,WACA,KAAA;AAEA,YAAA,MAAA,MAAA,KAAA,KAAA,sBAAA,MAAA;AACA,YAAA,IAAA,SAAA,KAAA;AACA,eAAA,OAAA,IAAA,OAAA;AACA;AAAA,QACA;AACA,mBAAA,MAAA,cAAA,mBAAA,SAAA,IAAA,KAAA;AAAA,MACA;AAAA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9JA,GAAG,WAAW,eAAe;"}