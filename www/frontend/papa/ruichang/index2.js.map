{"version":3,"file":"index2.js","sources":["../../../src/pages/instructor/index.vue"],"sourcesContent":["<template>\n  <view>\n    <z-paging\n      ref=\"pagingRef\"\n      v-model=\"dataList\"\n      @query=\"queryList\"\n      :paging-style=\"{ 'background-color': '#fff' }\"\n      :loading-more-custom-style=\"{ 'padding-bottom': '200rpx' }\"\n      @scroll=\"pageScroll\"\n    >\n      <view class=\"nav-bar-container\">\n        <navBar\n          title=\"指导员\"\n          :showBack=\"false\"\n          :fixed=\"false\"\n          :navColor=\"navColor\"\n          :titleColor=\"titleColor\"\n        />\n      </view>\n      <image\n        src=\"https://cdn-static.papa.com.cn/social/themeStatic/SkyBlue/instruct_page_header.png\"\n        class=\"header-top\"\n        mode=\"widthFix\"\n      />\n      <uv-sticky class=\"sticky\" :offsetTop=\"navBarHeight - 2\">\n        <view class=\"sticky-container\">\n          <view class=\"input-container\">\n            <listSearch\n              :show=\"false\"\n              :disabled=\"false\"\n              @confirm=\"listHandleConfirm\"\n              @clear=\"listHandleClear\"\n            />\n          </view>\n          <instructorDropDown @search=\"search\" ref=\"homeDropDownRef\" :pageType=\"pageType\" />\n        </view>\n      </uv-sticky>\n      <view class=\"main-box\">\n        <view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"pb-32rpx\">\n          <instructorItem :info=\"item\" :pageType=\"pageType\" />\n        </view>\n        <view v-if=\"dataList.length == 0\" style=\"min-height: 100vh\">\n          <empty></empty>\n        </view>\n      </view>\n      <template #empty></template>\n      <paBackToTop :scroll-top=\"scrollTop\" @click=\"backToTop\" />\n    </z-paging>\n  </view>\n</template>\n\n<script>\nimport instructorItem from '@/components/InstructorItem/index.vue'\nimport instructorDropDown from './components/instructorDropDown.vue'\nimport shareMixins from '@/mixins/shareMixins'\nimport listSearch from '@/components/SearchComponent/listSearch.vue'\nimport navBar from '@/components/navBar/index.vue'\nexport default {\n  mixins: [shareMixins],\n  components: {\n    instructorItem,\n    instructorDropDown,\n    listSearch,\n    navBar,\n  },\n  data() {\n    return {\n      area: '',\n      list: [],\n      urls: [],\n      dataList: [],\n      areaGroupList: [\n        [\n          {\n            text: '全部区域',\n            value: 0,\n          },\n        ],\n      ],\n      tempDataObj: {},\n      searchContent: '',\n      searchObj: {},\n      pageType: 'level', //level  star\n      navBarHeight: 0,\n      navColor: 'transparent',\n      titleColor: 'transparent',\n      customStyle: {\n        backgroundColor: 'transparent',\n      },\n      scrollTop: 0,\n    }\n  },\n  computed: {\n    themeType() {\n      return this.$store.app.themeType\n    },\n  },\n  created() {\n    this.pageType = this.$store.app.themeType == 'SkyBlue' ? 'level' : 'star'\n    this.navBarHeight = this.$store.app.menuInfo.navBarHeight\n  },\n  methods: {\n    //返回顶部\n    backToTop() {\n      this.$refs.pagingRef?.scrollToTop()\n    },\n    pageScroll(event) {\n      let scrollTop = event.detail.scrollTop\n      if (scrollTop > 100) {\n        this.navColor = '#fff'\n        this.titleColor = '#333'\n      } else {\n        this.navColor = 'transparent'\n        this.titleColor = 'transparent'\n      }\n      this.scrollTop = scrollTop\n    },\n    listHandleConfirm(data) {\n      this.searchContent = data\n      this.queryList(1, 10)\n    },\n    listHandleClear() {\n      this.searchContent = ''\n      this.queryList(1, 10)\n    },\n    search(data) {\n      console.log('[ data ] >', data)\n      if (data && data.level == 4 && this.themeType == 'EcologicalGreen') {\n        delete data.level\n        data.is_young = 1\n      }\n      this.searchObj = data\n      this.dataList = []\n      this.$refs.pagingRef?.complete([])\n      this.queryList(1, 10)\n    },\n    getLabel(data = [], key, keyArray = []) {\n      let label = []\n      data.forEach((item) => {\n        if (item[keyArray[0]] == key) {\n          label.push(item[keyArray[1]])\n        }\n        if (item[keyArray[2]] && item[keyArray[2]].length > 0) {\n          label = label.concat(this.getLabel(item[keyArray[2]], key, keyArray))\n        }\n      })\n      return label\n    },\n    async queryList(pageNo, pageSize) {\n      console.log('[ pageNo ] >', pageNo)\n      console.log('[ pageSize ] >', pageSize)\n      let resAreaGroupList = this.tempDataObj.areaGroupList\n      let params = {\n        page: pageNo,\n        size: pageSize,\n        name: this.searchContent,\n        ...this.searchObj,\n      }\n      let res = await this.$autoLoading(this.$api.getWxInstructorList(params))\n      if (res.code !== 200) {\n        this.$toast(res.message)\n        return\n      }\n      this.$refs.pagingRef?.complete(res.data.list)\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.sticky {\n  top: -1px !important;\n}\n.main-box {\n  padding: 32rpx;\n  box-sizing: border-box;\n}\n.sticky-container {\n  background-color: #fff;\n  padding-top: 16rpx;\n}\n.input-container {\n  margin-bottom: 2rpx;\n}\n.nav-bar-container {\n  width: 100%;\n}\n.header-top {\n  // position: absolute;\n  // top: 0;\n  // left: 0;\n  display: block;\n  width: 100%;\n  height: 346rpx;\n}\n</style>\n"],"names":["shareMixins"],"mappings":"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"}