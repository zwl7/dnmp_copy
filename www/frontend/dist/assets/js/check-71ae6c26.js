import{d as N,I as q,V as H,r as B,e as o,o as p,h as m,w as t,f as e,u as l,a as R,g as Y,F as G,q as i,Y as J,t as K,p as D,_ as O}from"./index-73817fb6.js";import{I as Q}from"./index-64271805.js";import{T as w}from"./index-b20b3221.js";import{V as W}from"./index-c0d3fb64.js";import{u as X}from"./useTable-c08e9eeb.js";import{u as Z}from"./useHandleData-a9a9d16a.js";import{d as ee,e as A}from"./event-3905bdce.js";import{u as ue}from"./useSearchData-3259396e.js";import{u as te}from"./index-1eb1379c.js";import"./project-7708919b.js";import"./saihui-f69ee65f.js";const le=N({__name:"check",setup(ae){const{tableData:h,pageable:C,searchParam:r,handleSizeChange:V,handleCurrentChange:z,getTableList:g,search:v,renderEmpty:x}=X(ee),{getProjectAll:U,projectList:j}=ue();q(()=>{g(),U()}),H(()=>r,te(g,300),{deep:!0});const y=async(c,a,E)=>{let d={1:"\u4E0B\u67B6\u89C6\u9891,\u4E0B\u67B6\u540E\u5C06\u4ECE\u53C2\u8D5B\u89C6\u9891\u4E2D\u79FB\u9664\uFF0C\u5E76\u6E05\u7A7A\u5DF2\u6709\u7684\u6D4F\u89C8\u3001\u70B9\u8D5E\u3001\u8F6C\u53D1\u91CF",3:"\u9A73\u56DE\u89C6\u9891\uFF0C\u89C6\u9891\u5C06\u65E0\u6CD5\u6B63\u5E38\u53C2\u4E0E\u6BD4\u8D5B\uFF0C\u7528\u6237\u53EF\u4EE5\u4FEE\u6539\u5185\u5BB9\u540E\u91CD\u65B0\u63D0\u4EA4\u5BA1\u6838"},_={1:"\u4E0B\u67B6\u6210\u529F",3:"\u9A73\u56DE\u6210\u529F"};await Z(A,{activity_video_id:c.activity_video_id,status:E},d[a],_[a]),g()},I=async(c,a)=>{(await A({activity_video_id:c.activity_video_id,status:a})).code===200&&g()},b=B(!1),F=B(""),S=B(""),T=c=>{F.value=c.url,S.value=c.images,b.value=!0};return(c,a)=>{const E=o("el-input"),d=o("el-form-item"),_=o("el-option"),k=o("el-select"),s=o("el-button"),L=o("el-form"),n=o("el-table-column"),P=o("el-tag"),M=o("el-table"),$=o("el-pagination");return p(),m(Q,null,{filter:t(()=>[e(L,{model:l(r)},{default:t(()=>[e(d,{class:"filter_item w_300"},{default:t(()=>[e(E,{modelValue:l(r).keyword,"onUpdate:modelValue":a[0]||(a[0]=u=>l(r).keyword=u),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8D5B\u4E8B\u540D\u79F0/\u53C2\u8D5B\u8005\u59D3\u540D/\u624B\u673A\u53F7"},null,8,["modelValue"])]),_:1}),e(d,{class:"filter_item"},{default:t(()=>[e(k,{modelValue:l(r).project_id,"onUpdate:modelValue":a[1]||(a[1]=u=>l(r).project_id=u),clearable:"",placeholder:"\u6240\u5C5E\u9879\u76EE"},{default:t(()=>[(p(!0),R(G,null,Y(l(j),(u,f)=>(p(),m(_,{key:f,label:u.name,value:u.project_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{class:"filter_item"},{default:t(()=>[e(k,{modelValue:l(r).status,"onUpdate:modelValue":a[2]||(a[2]=u=>l(r).status=u),clearable:"",placeholder:"\u72B6\u6001"},{default:t(()=>[e(_,{label:"\u5F85\u5BA1\u6838",value:"1"}),e(_,{label:"\u5BA1\u6838\u901A\u8FC7",value:"2"}),e(_,{label:"\u9A73\u56DE",value:"3"})]),_:1},8,["modelValue"])]),_:1}),e(d,{class:"filter_item"},{default:t(()=>[e(s,{type:"primary",onClick:l(v)},{default:t(()=>[i("\u641C\u7D22")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),operation:t(()=>[e(s,{type:"primary",onClick:l(v)},{default:t(()=>[i("\u5BFC\u51FA")]),_:1},8,["onClick"]),e(s,{onClick:l(v)},{default:t(()=>[i("\u901A\u8FC7")]),_:1},8,["onClick"]),e(s,{type:"primary",onClick:l(v)},{default:t(()=>[i("\u62D2\u7EDD")]),_:1},8,["onClick"])]),table:t(()=>[e(M,{data:l(h),size:"small",border:"",style:{width:"100%"}},{empty:t(()=>[(p(),m(J(l(x))))]),default:t(()=>[e(n,{label:"\u5E8F\u53F7",type:"index",align:"center"}),e(n,{label:"\u6240\u5C5E\u8D5B\u4F1A",prop:"match_name",align:"center"}),e(n,{label:"\u6240\u5C5E\u9879\u76EE",prop:"project_name",align:"center"}),e(n,{label:"\u8D5B\u4E8B\u540D\u79F0",prop:"match_activity_name",align:"center"}),e(n,{label:"\u4F5C\u54C1ID",prop:"activity_video_id",align:"center"}),e(n,{label:"\u4F5C\u54C1\u540D\u79F0",prop:"name",align:"center"},{default:t(u=>[e(w,{content:u.row.name},null,8,["content"])]),_:1}),e(n,{label:"\u59D3\u540D",prop:"member_name",align:"center"}),e(n,{label:"\u624B\u673A\u53F7",prop:"phone",align:"center"}),e(n,{label:"\u89C6\u9891",align:"center"},{default:t(u=>[e(s,{link:"",size:"small",onClick:f=>T(u.row)},{default:t(()=>[i(" \u67E5\u770B\u89C6\u9891 ")]),_:2},1032,["onClick"])]),_:1}),e(n,{label:"\u7B80\u4ECB",prop:"des",align:"center"},{default:t(u=>[e(w,{content:u.row.des},null,8,["content"])]),_:1}),e(n,{label:"\u72B6\u6001",align:"center"},{default:t(u=>[e(P,{type:u.row.status==2?"success":"danger","disable-transitions":""},{default:t(()=>[i(K(u.row.status_str),1)]),_:2},1032,["type"])]),_:1}),e(n,{label:"\u4E0A\u4F20\u65F6\u95F4",prop:"c_time",align:"center"}),e(n,{label:"\u4FEE\u6539\u4EBA",prop:"operator",align:"center"}),e(n,{label:"\u64CD\u4F5C",width:"150",align:"center",fixed:"right"},{default:t(u=>[u.row.status==2?(p(),m(s,{key:0,link:"",type:"danger",size:"small",onClick:f=>y(u.row,1,3)},{default:t(()=>[i(" \u4E0B\u67B6 ")]),_:2},1032,["onClick"])):D("v-if",!0),u.row.status==1?(p(),m(s,{key:1,link:"",type:"success",size:"small",onClick:f=>I(u.row,2)},{default:t(()=>[i(" \u901A\u8FC7 ")]),_:2},1032,["onClick"])):D("v-if",!0),u.row.status==1?(p(),m(s,{key:2,link:"",type:"warning",size:"small",onClick:f=>y(u.row,3,3)},{default:t(()=>[i(" \u9A73\u56DE ")]),_:2},1032,["onClick"])):D("v-if",!0)]),_:1})]),_:1},8,["data"])]),pagination:t(()=>[e($,{"current-page":l(C).page,"onUpdate:currentPage":a[3]||(a[3]=u=>l(C).page=u),"page-size":l(C).size,"onUpdate:pageSize":a[4]||(a[4]=u=>l(C).size=u),"page-sizes":[10,20,50,100],background:"",layout:"total, sizes, prev, pager, next",total:l(C).count,onSizeChange:l(V),onCurrentChange:l(z)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),dialog:t(()=>[e(W,{visible:b.value,"onUpdate:visible":a[5]||(a[5]=u=>b.value=u),title:"\u89C6\u9891\u5BA1\u6838",url:F.value,poster:F.value},null,8,["visible","url","poster"])]),_:1})}}});const fe=O(le,[["__scopeId","data-v-558881c8"],["__file","/Users/zwl/dnmp/www/frontend/ppos-sport-online/src/views/events/check.vue"]]);export{fe as default};
