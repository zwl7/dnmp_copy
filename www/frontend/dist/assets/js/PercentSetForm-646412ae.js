import{d as V,$ as h,V as B,e as a,o as C,h as g,w as l,f as o,q as _,u as f,b as i,_ as v}from"./index-73817fb6.js";import{p as E}from"./argumentSet-949d3ebc.js";import{g as S}from"./common-a24ad4a0.js";import{u as N}from"./useFormEdit-e635c879.js";import"./tabs-3df7d807.js";const k=i("span",{style:{"padding-left":"10px"}},"%",-1),U=i("span",{style:{"padding-left":"10px"}},"%",-1),I=i("span",{style:{"padding-left":"10px"}},"%",-1),P=i("span",{style:{"padding-left":"10px"}},"%",-1),R=V({__name:"PercentSetForm",props:{matchId:{type:[String,Number]},type:{type:[String,Number]}},emits:["submit","cancel"],setup(z,{emit:m}){const s=z,{closeCurrent:j,ruleFormRef:d,setTitle:A}=N(),t=h({one_prize:0,two_prize:0,three_prize:0,excellence_prize:0}),w=async()=>{let u=await S({match_id:s.matchId,type:s.type});if(u.code==200){let e={};u.data.map(r=>{e[r.field_name]=Number(r.value)}),t.one_prize=e.one_prize,t.two_prize=e.two_prize,t.three_prize=e.three_prize,t.excellence_prize=e.excellence_prize}};B(()=>s.matchId,u=>{w()},{immediate:!0});const b=async u=>{u.validate((e,r)=>{if(e){let p={one_prize:t.one_prize,two_prize:t.two_prize,three_prize:t.three_prize,excellence_prize:t.excellence_prize};m("submit",JSON.stringify(p))}})},x=()=>{m("cancel")};return(u,e)=>{const r=a("el-input-number"),p=a("el-form-item"),F=a("el-col"),c=a("el-button"),y=a("el-form");return C(),g(y,{model:t,rules:f(E),ref_key:"ruleFormRef",ref:d,"label-width":"140px"},{default:l(()=>[o(F,{span:10},{default:l(()=>[o(p,{label:"\u4E00\u7B49\u5956",prop:"one_prize"},{default:l(()=>[o(r,{modelValue:t.one_prize,"onUpdate:modelValue":e[0]||(e[0]=n=>t.one_prize=n),placeholder:"\u8BF7\u8F93\u5165\u4E00\u7B49\u5956"},null,8,["modelValue"]),k]),_:1}),o(p,{label:"\u4E8C\u7B49\u5956",prop:"two_prize"},{default:l(()=>[o(r,{modelValue:t.two_prize,"onUpdate:modelValue":e[1]||(e[1]=n=>t.two_prize=n),placeholder:"\u8BF7\u8F93\u5165\u4E8C\u7B49\u5956"},null,8,["modelValue"]),_(),U]),_:1}),o(p,{label:"\u4E09\u7B49\u5956",prop:"three_prize"},{default:l(()=>[o(r,{modelValue:t.three_prize,"onUpdate:modelValue":e[2]||(e[2]=n=>t.three_prize=n),placeholder:"\u8BF7\u8F93\u5165\u4E09\u7B49\u5956"},null,8,["modelValue"]),I]),_:1}),o(p,{label:"\u4F18\u79C0\u5956",prop:"excellence_prize"},{default:l(()=>[o(r,{modelValue:t.excellence_prize,"onUpdate:modelValue":e[3]||(e[3]=n=>t.excellence_prize=n),placeholder:"\u8BF7\u8F93\u5165\u4F18\u79C0\u5956"},null,8,["modelValue"]),P]),_:1})]),_:1}),o(p,null,{default:l(()=>[o(c,{type:"primary",onClick:e[4]||(e[4]=n=>b(f(d)))},{default:l(()=>[_("\u521B\u5EFA")]),_:1}),o(c,{onClick:x},{default:l(()=>[_("\u53D6\u6D88")]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),O=v(R,[["__file","/Users/zwl/dnmp/www/frontend/ppos-sport-online/src/views/system/components/PercentSetForm.vue"]]);export{O as default};
